<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:13,&quot;tests&quot;:1,&quot;passes&quot;:1,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2024-11-27T21:46:48.142Z&quot;,&quot;end&quot;:&quot;2024-11-27T21:46:50.139Z&quot;,&quot;duration&quot;:1997,&quot;testsRegistered&quot;:86,&quot;passPercent&quot;:1.1627906976744187,&quot;pendingPercent&quot;:0,&quot;other&quot;:24,&quot;hasOther&quot;:true,&quot;skipped&quot;:85,&quot;hasSkipped&quot;:true},&quot;results&quot;:[{&quot;uuid&quot;:&quot;836594c2-9419-4594-bf93-36b1e7bc0825&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;after all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await db.end();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e6f64b7-28cf-447a-9e88-73f587f2e24e&quot;,&quot;parentUUID&quot;:&quot;836594c2-9419-4594-bf93-36b1e7bc0825&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b65380da-652a-4e80-ac8c-bbe5d1b4c99b&quot;,&quot;title&quot;:&quot;Categorías API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\test\\categorias.test.js&quot;,&quot;file&quot;:&quot;\\test\\categorias.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook for \&quot;GET /api/categorias debe retornar todas las categorías\&quot;&quot;,&quot;fullTitle&quot;:&quot;Categorías API Endpoints \&quot;before all\&quot; hook for \&quot;GET /api/categorias debe retornar todas las categorías\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar los datos existentes en la tabla y establecer datos iniciales\nawait db.query(&#x27;TRUNCATE TABLE Categorias RESTART IDENTITY CASCADE&#x27;);\nawait db.query(\&quot;INSERT INTO Categorias (nombre, descripcion) VALUES (&#x27;General&#x27;, &#x27;Categoría general&#x27;)\&quot;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\categorias.test.js:12:5)&quot;},&quot;uuid&quot;:&quot;744dfef3-2ea4-4351-98b1-72f882cff94b&quot;,&quot;parentUUID&quot;:&quot;b65380da-652a-4e80-ac8c-bbe5d1b4c99b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook for \&quot;GET /api/categorias/:id debe retornar 404 para categoría inexistente\&quot;&quot;,&quot;fullTitle&quot;:&quot;Categorías API Endpoints \&quot;after all\&quot; hook for \&quot;GET /api/categorias/:id debe retornar 404 para categoría inexistente\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:67,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Restaurar el estado inicial de la tabla (sin cerrar la conexión, ya lo maneja el archivo global)\nawait db.query(&#x27;TRUNCATE TABLE Categorias RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\categorias.test.js:18:5)&quot;},&quot;uuid&quot;:&quot;84305875-0882-49e1-8c7f-c5ee88a20695&quot;,&quot;parentUUID&quot;:&quot;b65380da-652a-4e80-ac8c-bbe5d1b4c99b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/categorias debe retornar todas las categorías&quot;,&quot;fullTitle&quot;:&quot;Categorías API Endpoints GET /api/categorias debe retornar todas las categorías&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/categorias&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6bf7484c-4989-4503-9303-780e616fc7ca&quot;,&quot;parentUUID&quot;:&quot;b65380da-652a-4e80-ac8c-bbe5d1b4c99b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/categorias/:id debe retornar una categoría por ID&quot;,&quot;fullTitle&quot;:&quot;Categorías API Endpoints GET /api/categorias/:id debe retornar una categoría por ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/categorias/1&#x27;);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;nombre&#x27;));\nassert.strictEqual(res.body.nombre, &#x27;General&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0459f0c6-5a34-4c6a-a591-7c41e4a996c0&quot;,&quot;parentUUID&quot;:&quot;b65380da-652a-4e80-ac8c-bbe5d1b4c99b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/categorias debe crear una nueva categoría&quot;,&quot;fullTitle&quot;:&quot;Categorías API Endpoints POST /api/categorias debe crear una nueva categoría&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newCategoria = { nombre: &#x27;Electronica&#x27;, descripcion: &#x27;Categoría relacionada con Electronica&#x27; };\nconst res = await request(app).post(&#x27;/api/categorias&#x27;).send(newCategoria);\nassert.strictEqual(res.status, 201);\nassert.ok(res.body.hasOwnProperty(&#x27;nombre&#x27;));\nassert.strictEqual(res.body.nombre, &#x27;Electronica&#x27;);\n// Verificar que la categoría se agregó\nconst allCategorias = await request(app).get(&#x27;/api/categorias&#x27;);\nassert.strictEqual(allCategorias.body.length, 2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;252d1cec-148a-497d-9f3b-6438d08ca7c5&quot;,&quot;parentUUID&quot;:&quot;b65380da-652a-4e80-ac8c-bbe5d1b4c99b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;PUT /api/categorias/:id debe actualizar una categoría&quot;,&quot;fullTitle&quot;:&quot;Categorías API Endpoints PUT /api/categorias/:id debe actualizar una categoría&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedCategoria = { nombre: &#x27;Papeleria&#x27;, descripcion: &#x27;Categoría relacionada con Papeleria&#x27; };\nconst res = await request(app).put(&#x27;/api/categorias/1&#x27;).send(updatedCategoria);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;nombre&#x27;));\nassert.strictEqual(res.body.nombre, &#x27;Papeleria&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;658ee2b5-d147-465b-9540-85733a276f2f&quot;,&quot;parentUUID&quot;:&quot;b65380da-652a-4e80-ac8c-bbe5d1b4c99b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;DELETE /api/categorias/:id debe eliminar una categoría&quot;,&quot;fullTitle&quot;:&quot;Categorías API Endpoints DELETE /api/categorias/:id debe eliminar una categoría&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/categorias/1&#x27;);\nassert.strictEqual(res.status, 204);\n// Verificar que la categoría fue eliminada\nconst allCategorias = await request(app).get(&#x27;/api/categorias&#x27;);\nassert.strictEqual(allCategorias.body.length, 1); // La categoría eliminada ya no debería estar&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16f33183-1de7-4cfc-8e42-7de35965d64d&quot;,&quot;parentUUID&quot;:&quot;b65380da-652a-4e80-ac8c-bbe5d1b4c99b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/categorias/:id debe retornar 404 para categoría inexistente&quot;,&quot;fullTitle&quot;:&quot;Categorías API Endpoints GET /api/categorias/:id debe retornar 404 para categoría inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/categorias/9999&#x27;);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9301a252-e456-4e60-b430-4ea66efcbce4&quot;,&quot;parentUUID&quot;:&quot;b65380da-652a-4e80-ac8c-bbe5d1b4c99b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;6bf7484c-4989-4503-9303-780e616fc7ca&quot;,&quot;0459f0c6-5a34-4c6a-a591-7c41e4a996c0&quot;,&quot;252d1cec-148a-497d-9f3b-6438d08ca7c5&quot;,&quot;658ee2b5-d147-465b-9540-85733a276f2f&quot;,&quot;16f33183-1de7-4cfc-8e42-7de35965d64d&quot;,&quot;9301a252-e456-4e60-b430-4ea66efcbce4&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3196b5cc-af69-41cb-89d0-c3baacac7a0f&quot;,&quot;title&quot;:&quot;DetalleVentas API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\test\\detalleVentas.test.js&quot;,&quot;file&quot;:&quot;\\test\\detalleVentas.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook for \&quot;GET /api/detalleVentas debe retornar todos los detalles de ventas\&quot;&quot;,&quot;fullTitle&quot;:&quot;DetalleVentas API Endpoints \&quot;before all\&quot; hook for \&quot;GET /api/detalleVentas debe retornar todos los detalles de ventas\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:168,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar las tablas y establecer datos iniciales\nawait db.query(&#x27;TRUNCATE TABLE DetalleVentas RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Productos RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Categorias RESTART IDENTITY CASCADE&#x27;);\n// Insertar categorías de ejemplo con nombre y descripcion\nawait db.query(\n  \&quot;INSERT INTO Categorias (idCategoria, nombre, descripcion) VALUES (1, &#x27;Electrónica&#x27;, &#x27;Categoría de productos electrónicos&#x27;)\&quot;\n);\nawait db.query(\n  \&quot;INSERT INTO Categorias (idCategoria, nombre, descripcion) VALUES (2, &#x27;Ropa&#x27;, &#x27;Categoría de ropa y vestimenta&#x27;)\&quot;\n);\n// Insertar productos con una categoría asignada\nawait db.query(\n  \&quot;INSERT INTO Productos (idProducto, nombre, precio, descripcion, stock, idCategoria) VALUES (101, &#x27;Producto A&#x27;, 450.0, &#x27;Descripción del producto A&#x27;, 100, 1)\&quot;\n);\nawait db.query(\n  \&quot;INSERT INTO Productos (idProducto, nombre, precio, descripcion, stock, idCategoria) VALUES (102, &#x27;Producto B&#x27;, 500.0, &#x27;Descripción del producto B&#x27;, 50, 2)\&quot;\n);\n// Insertar un detalle de ventas con productos existentes\nawait db.query(\n  \&quot;INSERT INTO DetalleVentas (folio, idProducto, cantidad, total) VALUES (1, 101, 2, 900)\&quot;\n);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\detalleVentas.test.js:11:5)&quot;},&quot;uuid&quot;:&quot;a1b49ce4-f7ca-4ed4-843c-6811f52dd96e&quot;,&quot;parentUUID&quot;:&quot;3196b5cc-af69-41cb-89d0-c3baacac7a0f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook for \&quot;GET /api/detalleVentas/:folio/:idProducto debe retornar 404 para un detalle inexistente\&quot;&quot;,&quot;fullTitle&quot;:&quot;DetalleVentas API Endpoints \&quot;after all\&quot; hook for \&quot;GET /api/detalleVentas/:folio/:idProducto debe retornar 404 para un detalle inexistente\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:67,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Restaurar el estado inicial de las tablas (sin cerrar la conexión, ya lo maneja el archivo global)\nawait db.query(&#x27;TRUNCATE TABLE DetalleVentas RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Productos RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Categorias RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\detalleVentas.test.js:39:5)&quot;},&quot;uuid&quot;:&quot;11b72d83-226b-4880-832e-69eedb3e31e7&quot;,&quot;parentUUID&quot;:&quot;3196b5cc-af69-41cb-89d0-c3baacac7a0f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/detalleVentas debe retornar todos los detalles de ventas&quot;,&quot;fullTitle&quot;:&quot;DetalleVentas API Endpoints GET /api/detalleVentas debe retornar todos los detalles de ventas&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/detalleVentas&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;38df55cb-7292-4160-93b8-a7315d718059&quot;,&quot;parentUUID&quot;:&quot;3196b5cc-af69-41cb-89d0-c3baacac7a0f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/detalleVentas/:folio/:idProducto debe retornar un detalle específico&quot;,&quot;fullTitle&quot;:&quot;DetalleVentas API Endpoints GET /api/detalleVentas/:folio/:idProducto debe retornar un detalle específico&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/detalleVentas/1/101&#x27;);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;cantidad&#x27;));\nassert.strictEqual(res.body.cantidad, 2);\nassert.ok(res.body.hasOwnProperty(&#x27;total&#x27;));\nassert.strictEqual(res.body.total, 900);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;633b348d-fb9a-44c5-a8e6-99d5e7988953&quot;,&quot;parentUUID&quot;:&quot;3196b5cc-af69-41cb-89d0-c3baacac7a0f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/detalleVentas debe crear un nuevo detalle de venta&quot;,&quot;fullTitle&quot;:&quot;DetalleVentas API Endpoints POST /api/detalleVentas debe crear un nuevo detalle de venta&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newDetalle = { folio: 2, idProducto: 102, cantidad: 3, total: 1350 };\nconst res = await request(app).post(&#x27;/api/detalleVentas&#x27;).send(newDetalle);\nassert.strictEqual(res.status, 201);\nassert.ok(res.body.hasOwnProperty(&#x27;folio&#x27;));\nassert.strictEqual(res.body.folio, 2);\n// Verificar que se agregó el nuevo detalle\nconst allDetalles = await request(app).get(&#x27;/api/detalleVentas&#x27;);\nassert.strictEqual(allDetalles.body.length, 2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83ec1146-0b06-4687-9fab-1465f38140ec&quot;,&quot;parentUUID&quot;:&quot;3196b5cc-af69-41cb-89d0-c3baacac7a0f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;PUT /api/detalleVentas/:folio/:idProducto debe actualizar un detalle&quot;,&quot;fullTitle&quot;:&quot;DetalleVentas API Endpoints PUT /api/detalleVentas/:folio/:idProducto debe actualizar un detalle&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedDetalle = { cantidad: 5, total: 2250 };\nconst res = await request(app).put(&#x27;/api/detalleVentas/1/101&#x27;).send(updatedDetalle);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;cantidad&#x27;));\nassert.strictEqual(res.body.cantidad, 5);\nassert.ok(res.body.hasOwnProperty(&#x27;total&#x27;));\nassert.strictEqual(res.body.total, 2250);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb19dc86-659c-4afd-9d48-b074a4b5e1d3&quot;,&quot;parentUUID&quot;:&quot;3196b5cc-af69-41cb-89d0-c3baacac7a0f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;DELETE /api/detalleVentas/:folio/:idProducto debe eliminar un detalle&quot;,&quot;fullTitle&quot;:&quot;DetalleVentas API Endpoints DELETE /api/detalleVentas/:folio/:idProducto debe eliminar un detalle&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/detalleVentas/1/101&#x27;);\nassert.strictEqual(res.status, 204);\n// Verificar que el detalle fue eliminado\nconst allDetalles = await request(app).get(&#x27;/api/detalleVentas&#x27;);\nassert.strictEqual(allDetalles.body.length, 1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;79c12ef2-be79-4e38-b0fd-60dd303327a1&quot;,&quot;parentUUID&quot;:&quot;3196b5cc-af69-41cb-89d0-c3baacac7a0f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/detalleVentas/:folio/:idProducto debe retornar 404 para un detalle inexistente&quot;,&quot;fullTitle&quot;:&quot;DetalleVentas API Endpoints GET /api/detalleVentas/:folio/:idProducto debe retornar 404 para un detalle inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/detalleVentas/9999/9999&#x27;);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;84db8510-d5cb-41fb-832d-634d374bb397&quot;,&quot;parentUUID&quot;:&quot;3196b5cc-af69-41cb-89d0-c3baacac7a0f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;38df55cb-7292-4160-93b8-a7315d718059&quot;,&quot;633b348d-fb9a-44c5-a8e6-99d5e7988953&quot;,&quot;83ec1146-0b06-4687-9fab-1465f38140ec&quot;,&quot;cb19dc86-659c-4afd-9d48-b074a4b5e1d3&quot;,&quot;79c12ef2-be79-4e38-b0fd-60dd303327a1&quot;,&quot;84db8510-d5cb-41fb-832d-634d374bb397&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6d653c70-2ae0-4282-812a-8ede9ba67247&quot;,&quot;title&quot;:&quot;Bienvenida&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\test\\empleados.test.js&quot;,&quot;file&quot;:&quot;\\test\\empleados.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Bienvenido a los test de la API MS&quot;,&quot;fullTitle&quot;:&quot;Bienvenida Bienvenido a los test de la API MS&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;console.log(&#x27;***********************************&#x27;);\nconsole.log(&#x27;* Bienvenido a los test de la API MS *&#x27;);\nconsole.log(&#x27;***********************************&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9cefd68-1467-4f73-a856-fbc5123d0623&quot;,&quot;parentUUID&quot;:&quot;6d653c70-2ae0-4282-812a-8ede9ba67247&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c9cefd68-1467-4f73-a856-fbc5123d0623&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7d6fdf71-481a-4775-b4bd-9c3e00644944&quot;,&quot;title&quot;:&quot;Empleados API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\test\\empleados.test.js&quot;,&quot;file&quot;:&quot;\\test\\empleados.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook for \&quot;GET /api/empleados debe retornar todos los empleados\&quot;&quot;,&quot;fullTitle&quot;:&quot;Empleados API Endpoints \&quot;before all\&quot; hook for \&quot;GET /api/empleados debe retornar todos los empleados\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:66,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Reiniciar tablas relacionadas y configurar datos iniciales\nawait db.query(&#x27;TRUNCATE TABLE empleados RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE usuarios RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE roles RESTART IDENTITY CASCADE&#x27;);\n// Insertar roles\nawait db.query(`\n  INSERT INTO roles (tipo) \n  VALUES (&#x27;Administrador&#x27;), (&#x27;Vendedor&#x27;), (&#x27;Cliente&#x27;), (&#x27;Gerente&#x27;), (&#x27;Soporte Técnico&#x27;);\n`);\n// Insertar usuarios\nawait db.query(`\n  INSERT INTO usuarios (nombre, correo, password, idRol)\n  VALUES \n    (&#x27;Eliezer Cerecedo&#x27;, &#x27;eliezercerecedo82@gmail.com&#x27;, &#x27;Bocchi17&#x27;, 1),\n    (&#x27;Juan Pablo&#x27;, &#x27;juanpablo@gmail.com&#x27;, &#x27;pablitin18&#x27;, 2);\n`);\n// Insertar empleados\nawait db.query(`\n  INSERT INTO empleados (nombre, appaterno, apmaterno, fechanacimiento, curp, idusuario)\n  VALUES \n    (&#x27;Eliezer Isai&#x27;, &#x27;Cerecedo&#x27;, &#x27;Florencia&#x27;, &#x27;2002-11-12&#x27;, &#x27;ABC123456XYZ789012&#x27;, 1),\n    (&#x27;Juan&#x27;, &#x27;Perez&#x27;, &#x27;Lopez&#x27;, &#x27;1985-07-20&#x27;, &#x27;DEF123456XYZ789012&#x27;, 2);\n`);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\empleados.test.js:19:5)&quot;},&quot;uuid&quot;:&quot;f9e420ef-4bf4-4d56-961b-532d918becc6&quot;,&quot;parentUUID&quot;:&quot;7d6fdf71-481a-4775-b4bd-9c3e00644944&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook for \&quot;GET /api/empleados/:id debe retornar 404 para un empleado inexistente\&quot;&quot;,&quot;fullTitle&quot;:&quot;Empleados API Endpoints \&quot;after all\&quot; hook for \&quot;GET /api/empleados/:id debe retornar 404 para un empleado inexistente\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:67,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await db.query(&#x27;TRUNCATE TABLE empleados RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE usuarios RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE roles RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\empleados.test.js:47:5)&quot;},&quot;uuid&quot;:&quot;c97be09b-629a-47c7-9e6d-97f27d66558a&quot;,&quot;parentUUID&quot;:&quot;7d6fdf71-481a-4775-b4bd-9c3e00644944&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/empleados debe retornar todos los empleados&quot;,&quot;fullTitle&quot;:&quot;Empleados API Endpoints GET /api/empleados debe retornar todos los empleados&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/empleados&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 2);\nassert.strictEqual(res.body[0].nombre, &#x27;Eliezer Isai&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca81b2c9-1ea8-40a0-83eb-9f6ad736c8e2&quot;,&quot;parentUUID&quot;:&quot;7d6fdf71-481a-4775-b4bd-9c3e00644944&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/empleados/:id debe retornar un empleado por ID&quot;,&quot;fullTitle&quot;:&quot;Empleados API Endpoints GET /api/empleados/:id debe retornar un empleado por ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/empleados/1&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(res.body.nombre, &#x27;Eliezer Isai&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d67682e3-9bb8-4fa3-9841-6a38b21038b1&quot;,&quot;parentUUID&quot;:&quot;7d6fdf71-481a-4775-b4bd-9c3e00644944&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/empleados debe crear un nuevo empleado con datos válidos&quot;,&quot;fullTitle&quot;:&quot;Empleados API Endpoints POST /api/empleados debe crear un nuevo empleado con datos válidos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newEmpleado = {\n  nombre: &#x27;Oscar&#x27;,\n  appaterno: &#x27;Martinez&#x27;,\n  apmaterno: &#x27;Gomez&#x27;,\n  fechanacimiento: &#x27;1990-04-15&#x27;,\n  curp: &#x27;OSMG900415HDFRZS02&#x27;, // CURP con formato válido\n  idusuario: 1,\n};\nconst res = await request(app).post(&#x27;/api/empleados&#x27;).send(newEmpleado);\nassert.strictEqual(res.status, 201);\nassert.strictEqual(res.body.nombre, &#x27;Oscar&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee34e863-14c3-42e4-b25c-43f3bfcb8757&quot;,&quot;parentUUID&quot;:&quot;7d6fdf71-481a-4775-b4bd-9c3e00644944&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/empleados debe fallar con datos inválidos&quot;,&quot;fullTitle&quot;:&quot;Empleados API Endpoints POST /api/empleados debe fallar con datos inválidos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const invalidEmpleado = {\n  nombre: &#x27;Os&#x27;, // Nombre demasiado corto\n  appaterno: &#x27;&#x27;, // Apellido paterno vacío\n  apmaterno: &#x27;ApellidoMuyLargoQueExcedeElLimite&#x27;, // Apellido materno demasiado largo\n  fechanacimiento: &#x27;2025-04-15&#x27;, // Fecha futura inválida\n  curp: &#x27;CURPINVALIDO&#x27;, // CURP con formato incorrecto\n  idusuario: 1,\n};\nconst res = await request(app).post(&#x27;/api/empleados&#x27;).send(invalidEmpleado);\nassert.strictEqual(res.status, 400);\nassert.strictEqual(Array.isArray(res.body.errores), true);\nassert.ok(res.body.errores.length &gt; 0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cdc536c2-849c-4ca1-990c-a0c2a1d16c3c&quot;,&quot;parentUUID&quot;:&quot;7d6fdf71-481a-4775-b4bd-9c3e00644944&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;PUT /api/empleados/:id debe actualizar un empleado con datos válidos&quot;,&quot;fullTitle&quot;:&quot;Empleados API Endpoints PUT /api/empleados/:id debe actualizar un empleado con datos válidos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedEmpleado = {\n  nombre: &#x27;Eliezer Actualizado&#x27;,\n  appaterno: &#x27;Cerecedo&#x27;,\n  apmaterno: &#x27;Florencia&#x27;,\n  fechanacimiento: &#x27;2002-11-12&#x27;,\n  curp: &#x27;ELCF021112HDFRZS04&#x27;, // CURP con formato válido\n  idusuario: 1,\n};\nconst res = await request(app).put(&#x27;/api/empleados/1&#x27;).send(updatedEmpleado);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(res.body.nombre, &#x27;Eliezer Actualizado&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;938d3dde-e285-4d81-b5ce-5256248b53ed&quot;,&quot;parentUUID&quot;:&quot;7d6fdf71-481a-4775-b4bd-9c3e00644944&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;DELETE /api/empleados/:id debe eliminar un empleado&quot;,&quot;fullTitle&quot;:&quot;Empleados API Endpoints DELETE /api/empleados/:id debe eliminar un empleado&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/empleados/1&#x27;);\nassert.strictEqual(res.status, 204);\n// Verificar que el empleado fue eliminado\nconst getRes = await request(app).get(&#x27;/api/empleados/1&#x27;);\nassert.strictEqual(getRes.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;504a0757-3f5e-4b9b-ae1e-6dd396065acc&quot;,&quot;parentUUID&quot;:&quot;7d6fdf71-481a-4775-b4bd-9c3e00644944&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/empleados/:id debe retornar 404 para un empleado inexistente&quot;,&quot;fullTitle&quot;:&quot;Empleados API Endpoints GET /api/empleados/:id debe retornar 404 para un empleado inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/empleados/9999&#x27;);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2000fd0-146d-4d38-80cd-050d90f51583&quot;,&quot;parentUUID&quot;:&quot;7d6fdf71-481a-4775-b4bd-9c3e00644944&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;ca81b2c9-1ea8-40a0-83eb-9f6ad736c8e2&quot;,&quot;d67682e3-9bb8-4fa3-9841-6a38b21038b1&quot;,&quot;ee34e863-14c3-42e4-b25c-43f3bfcb8757&quot;,&quot;cdc536c2-849c-4ca1-990c-a0c2a1d16c3c&quot;,&quot;938d3dde-e285-4d81-b5ce-5256248b53ed&quot;,&quot;504a0757-3f5e-4b9b-ae1e-6dd396065acc&quot;,&quot;b2000fd0-146d-4d38-80cd-050d90f51583&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c362d529-0a4d-4586-bad7-cfc0d78b6743&quot;,&quot;title&quot;:&quot;Métodos de Venta API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\test\\metodoVenta.test.js&quot;,&quot;file&quot;:&quot;\\test\\metodoVenta.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook for \&quot;GET /api/metodos-venta debe retornar todos los métodos de venta\&quot;&quot;,&quot;fullTitle&quot;:&quot;Métodos de Venta API Endpoints \&quot;before all\&quot; hook for \&quot;GET /api/metodos-venta debe retornar todos los métodos de venta\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:57,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Reiniciar tablas relacionadas y configurar datos iniciales\nawait db.query(&#x27;TRUNCATE TABLE MetodoVenta RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE tipoPago RESTART IDENTITY CASCADE&#x27;);\n// Insertar tipos de pago\nawait db.query(`\n      INSERT INTO tipoPago (descripcion, fecha_creacion, activo) \n      VALUES (&#x27;Efectivo&#x27;, NOW(), TRUE), (&#x27;Tarjeta de crédito&#x27;, NOW(), TRUE);\n    `);\n// Insertar métodos de venta\nawait db.query(`\n      INSERT INTO MetodoVenta (idTipoPago, descripcion, comision, fecha_creacion, activo)\n      VALUES \n(1, &#x27;Efectivo&#x27;, 0.00, NOW(), TRUE), \n(2, &#x27;Tarjeta de crédito&#x27;, 0.05, NOW(), TRUE);\n    `);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\metodoVenta.test.js:11:9)&quot;},&quot;uuid&quot;:&quot;9e49bb7f-911e-4029-903e-addcb954e2bb&quot;,&quot;parentUUID&quot;:&quot;c362d529-0a4d-4586-bad7-cfc0d78b6743&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook for \&quot;GET /api/metodos-venta/:id debe retornar 404 para un método inexistente\&quot;&quot;,&quot;fullTitle&quot;:&quot;Métodos de Venta API Endpoints \&quot;after all\&quot; hook for \&quot;GET /api/metodos-venta/:id debe retornar 404 para un método inexistente\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:158,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await db.query(&#x27;TRUNCATE TABLE MetodoVenta RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE tipoPago RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\metodoVenta.test.js:30:9)&quot;},&quot;uuid&quot;:&quot;d61f9bb8-a3e8-484f-a546-172bb65927a3&quot;,&quot;parentUUID&quot;:&quot;c362d529-0a4d-4586-bad7-cfc0d78b6743&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/metodos-venta debe retornar todos los métodos de venta&quot;,&quot;fullTitle&quot;:&quot;Métodos de Venta API Endpoints GET /api/metodos-venta debe retornar todos los métodos de venta&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/metodos-venta&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 2);\nassert.strictEqual(res.body[0].descripcion, &#x27;Efectivo&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2fa241da-0cb4-4da3-88c2-1025ee80e6d3&quot;,&quot;parentUUID&quot;:&quot;c362d529-0a4d-4586-bad7-cfc0d78b6743&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/metodos-venta/:id debe retornar un método de venta por ID&quot;,&quot;fullTitle&quot;:&quot;Métodos de Venta API Endpoints GET /api/metodos-venta/:id debe retornar un método de venta por ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/metodos-venta/1&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(res.body.descripcion, &#x27;Efectivo&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a68c6eec-ddb5-4de3-a832-1b5892e1bf1a&quot;,&quot;parentUUID&quot;:&quot;c362d529-0a4d-4586-bad7-cfc0d78b6743&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/metodos-venta debe crear un nuevo método de venta&quot;,&quot;fullTitle&quot;:&quot;Métodos de Venta API Endpoints POST /api/metodos-venta debe crear un nuevo método de venta&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newMetodo = {\n    idTipoPago: 1,\n    descripcion: &#x27;Transferencia Bancaria&#x27;,\n    comision: 0.02,\n    activo: true,\n};\nconst res = await request(app).post(&#x27;/api/metodos-venta&#x27;).send(newMetodo);\nassert.strictEqual(res.status, 201);\nassert.strictEqual(res.body.descripcion, &#x27;Transferencia Bancaria&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ea3be5d-6ade-406f-b720-45c3746c997d&quot;,&quot;parentUUID&quot;:&quot;c362d529-0a4d-4586-bad7-cfc0d78b6743&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/metodos-venta debe fallar con datos inválidos&quot;,&quot;fullTitle&quot;:&quot;Métodos de Venta API Endpoints POST /api/metodos-venta debe fallar con datos inválidos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const invalidMetodo = {\n    idTipoPago: 99, // No existe\n    descripcion: &#x27;AB&#x27;, // Descripción muy corta\n    comision: 1.5, // Comisión fuera de rango\n    activo: &#x27;true&#x27;, // No es booleano\n};\nconst res = await request(app).post(&#x27;/api/metodos-venta&#x27;).send(invalidMetodo);\nassert.strictEqual(res.status, 400);\nassert.ok(Array.isArray(res.body.errores));\nassert.ok(res.body.errores.length &gt; 0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2011856-3daf-4434-9555-11ca603107be&quot;,&quot;parentUUID&quot;:&quot;c362d529-0a4d-4586-bad7-cfc0d78b6743&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;PUT /api/metodos-venta/:id debe actualizar un método de venta&quot;,&quot;fullTitle&quot;:&quot;Métodos de Venta API Endpoints PUT /api/metodos-venta/:id debe actualizar un método de venta&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedMetodo = {\n    idTipoPago: 2,\n    descripcion: &#x27;Pago con Tarjeta&#x27;,\n    comision: 0.03,\n    activo: false,\n};\nconst res = await request(app).put(&#x27;/api/metodos-venta/1&#x27;).send(updatedMetodo);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(res.body.descripcion, &#x27;Pago con Tarjeta&#x27;);\nassert.strictEqual(Number(res.body.comision), 0.03); // Convertir a número para la comparación&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a035b97-2db2-47b5-98e6-15bb6d19ac5b&quot;,&quot;parentUUID&quot;:&quot;c362d529-0a4d-4586-bad7-cfc0d78b6743&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;DELETE /api/metodos-venta/:id debe eliminar un método de venta&quot;,&quot;fullTitle&quot;:&quot;Métodos de Venta API Endpoints DELETE /api/metodos-venta/:id debe eliminar un método de venta&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/metodos-venta/1&#x27;);\nassert.strictEqual(res.status, 204);\n// Verificar que el método de venta fue eliminado\nconst getRes = await request(app).get(&#x27;/api/metodos-venta/1&#x27;);\nassert.strictEqual(getRes.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8a1884ca-bd5f-4e29-bdd7-4cf4e707f005&quot;,&quot;parentUUID&quot;:&quot;c362d529-0a4d-4586-bad7-cfc0d78b6743&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/metodos-venta/:id debe retornar 404 para un método inexistente&quot;,&quot;fullTitle&quot;:&quot;Métodos de Venta API Endpoints GET /api/metodos-venta/:id debe retornar 404 para un método inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/metodos-venta/9999&#x27;);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec5c3145-da1e-4922-84e2-3c71d3ef1fff&quot;,&quot;parentUUID&quot;:&quot;c362d529-0a4d-4586-bad7-cfc0d78b6743&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;2fa241da-0cb4-4da3-88c2-1025ee80e6d3&quot;,&quot;a68c6eec-ddb5-4de3-a832-1b5892e1bf1a&quot;,&quot;1ea3be5d-6ade-406f-b720-45c3746c997d&quot;,&quot;e2011856-3daf-4434-9555-11ca603107be&quot;,&quot;0a035b97-2db2-47b5-98e6-15bb6d19ac5b&quot;,&quot;8a1884ca-bd5f-4e29-bdd7-4cf4e707f005&quot;,&quot;ec5c3145-da1e-4922-84e2-3c71d3ef1fff&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2de9573d-d07a-42ac-8eab-2a4017b5dc6f&quot;,&quot;title&quot;:&quot;PedidoDetalles API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\test\\pedidoDetalles.test.js&quot;,&quot;file&quot;:&quot;\\test\\pedidoDetalles.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook for \&quot;GET /api/pedido-detalles debe retornar todos los detalles de pedidos\&quot;&quot;,&quot;fullTitle&quot;:&quot;PedidoDetalles API Endpoints \&quot;before all\&quot; hook for \&quot;GET /api/pedido-detalles debe retornar todos los detalles de pedidos\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:73,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Reiniciar tablas relacionadas y configurar datos iniciales\nawait db.query(&#x27;TRUNCATE TABLE PedidoDetalles RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Pedidos RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Productos RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Categorias RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE MetodoVenta RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE tipoPago RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Proveedores RESTART IDENTITY CASCADE&#x27;);\n// Insertar categorías\nawait db.query(`\n    INSERT INTO Categorias (nombre, descripcion)\n    VALUES \n        (&#x27;Electrónicos&#x27;, &#x27;Productos electrónicos de consumo&#x27;),\n        (&#x27;Papelería&#x27;, &#x27;Productos de papelería y oficina&#x27;);\n`);\n// Insertar productos\nawait db.query(`\n    INSERT INTO Productos (nombre, descripcion, precio, stock, idCategoria)\n    VALUES \n        (&#x27;Smartphone&#x27;, &#x27;Teléfono inteligente de última generación&#x27;, 899.99, 50, 1),\n        (&#x27;Lápiz&#x27;, &#x27;Lápiz de grafito HB&#x27;, 0.99, 1000, 2);\n`);\n// Insertar tipos de pago y métodos de venta\nawait db.query(`\n    INSERT INTO tipoPago (descripcion, fecha_creacion, activo) \n    VALUES (&#x27;Efectivo&#x27;, NOW(), TRUE), (&#x27;Tarjeta de crédito&#x27;, NOW(), TRUE);\n`);\nawait db.query(`\n    INSERT INTO MetodoVenta (idTipoPago, descripcion, comision, fecha_creacion, activo)\n    VALUES \n        (1, &#x27;Efectivo&#x27;, 0.00, NOW(), TRUE), \n        (2, &#x27;Tarjeta de crédito&#x27;, 0.05, NOW(), TRUE);\n`);\n// Insertar proveedores y pedidos\nawait db.query(`\n    INSERT INTO Proveedores (nombre, direccion, rfc, telefono)\n    VALUES (&#x27;Proveedor XYZ&#x27;, &#x27;Calle Principal 123&#x27;, &#x27;RFC123456789&#x27;, &#x27;5551234561&#x27;);\n`);\nawait db.query(`\n    INSERT INTO Pedidos (total, estado, fechaPedido, idMetodoV, idProveedor)\n    VALUES \n        (1200.50, &#x27;Pendiente&#x27;, NOW(), 1, 1);\n`);\n// Insertar detalle de pedido inicial\nawait db.query(`\n    INSERT INTO PedidoDetalles (idPedido, idProducto, cantidad, subtotal, iva)\n    VALUES (1, 1, 5, 500.00, 80.00);\n`);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\pedidoDetalles.test.js:11:9)&quot;},&quot;uuid&quot;:&quot;649269b0-dbc0-4aaf-bb63-bc834967f68a&quot;,&quot;parentUUID&quot;:&quot;2de9573d-d07a-42ac-8eab-2a4017b5dc6f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook for \&quot;GET /api/pedido-detalles/:idPedido/:idProducto debe retornar 404 para un detalle inexistente\&quot;&quot;,&quot;fullTitle&quot;:&quot;PedidoDetalles API Endpoints \&quot;after all\&quot; hook for \&quot;GET /api/pedido-detalles/:idPedido/:idProducto debe retornar 404 para un detalle inexistente\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:179,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await db.query(&#x27;TRUNCATE TABLE PedidoDetalles RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Pedidos RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Productos RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE MetodoVenta RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE tipoPago RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Proveedores RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\pedidoDetalles.test.js:68:9)&quot;},&quot;uuid&quot;:&quot;52274084-84b0-4ff4-9fc1-b796f7fcaaa5&quot;,&quot;parentUUID&quot;:&quot;2de9573d-d07a-42ac-8eab-2a4017b5dc6f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/pedido-detalles debe retornar todos los detalles de pedidos&quot;,&quot;fullTitle&quot;:&quot;PedidoDetalles API Endpoints GET /api/pedido-detalles debe retornar todos los detalles de pedidos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/pedido-detalles&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;946f10c1-eed3-4bdc-a528-efe8cb3eaeab&quot;,&quot;parentUUID&quot;:&quot;2de9573d-d07a-42ac-8eab-2a4017b5dc6f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/pedido-detalles/:idPedido/:idProducto debe retornar un detalle de pedido por ID&quot;,&quot;fullTitle&quot;:&quot;PedidoDetalles API Endpoints GET /api/pedido-detalles/:idPedido/:idProducto debe retornar un detalle de pedido por ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/pedido-detalles/1/1&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(res.body.cantidad, 5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c321e03-86bb-4dfc-83a1-de0d20bc7288&quot;,&quot;parentUUID&quot;:&quot;2de9573d-d07a-42ac-8eab-2a4017b5dc6f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/pedido-detalles debe crear un nuevo detalle de pedido&quot;,&quot;fullTitle&quot;:&quot;PedidoDetalles API Endpoints POST /api/pedido-detalles debe crear un nuevo detalle de pedido&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newDetalle = {\n    idPedido: 1,\n    idProducto: 2,\n    cantidad: 10,\n};\nconst res = await request(app).post(&#x27;/api/pedido-detalles&#x27;).send(newDetalle);\nassert.strictEqual(res.status, 201);\nassert.strictEqual(res.body.cantidad, 10);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2770bdf-aff9-4bcc-9149-91ee0a96293d&quot;,&quot;parentUUID&quot;:&quot;2de9573d-d07a-42ac-8eab-2a4017b5dc6f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/pedido-detalles debe fallar si el stock es insuficiente&quot;,&quot;fullTitle&quot;:&quot;PedidoDetalles API Endpoints POST /api/pedido-detalles debe fallar si el stock es insuficiente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const invalidDetalle = {\n    idPedido: 1,\n    idProducto: 2,\n    cantidad: 2000, // Mayor que el stock\n};\nconst res = await request(app).post(&#x27;/api/pedido-detalles&#x27;).send(invalidDetalle);\nassert.strictEqual(res.status, 400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;943193cc-124e-4a3e-9333-983a3a7caf4b&quot;,&quot;parentUUID&quot;:&quot;2de9573d-d07a-42ac-8eab-2a4017b5dc6f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/pedido-detalles debe fallar si el detalle ya existe&quot;,&quot;fullTitle&quot;:&quot;PedidoDetalles API Endpoints POST /api/pedido-detalles debe fallar si el detalle ya existe&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const duplicateDetalle = {\n    idPedido: 1,\n    idProducto: 1,\n    cantidad: 5,\n};\nconst res = await request(app).post(&#x27;/api/pedido-detalles&#x27;).send(duplicateDetalle);\nassert.strictEqual(res.status, 400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f3d8332-28be-45de-8adc-f516da9e5475&quot;,&quot;parentUUID&quot;:&quot;2de9573d-d07a-42ac-8eab-2a4017b5dc6f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;PUT /api/pedido-detalles/:idPedido/:idProducto debe actualizar un detalle de pedido&quot;,&quot;fullTitle&quot;:&quot;PedidoDetalles API Endpoints PUT /api/pedido-detalles/:idPedido/:idProducto debe actualizar un detalle de pedido&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedDetalle = { cantidad: 15 };\nconst res = await request(app).put(&#x27;/api/pedido-detalles/1/1&#x27;).send(updatedDetalle);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(res.body.cantidad, 15);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b63d5a5-79a1-4c7b-a969-7df9c29391c4&quot;,&quot;parentUUID&quot;:&quot;2de9573d-d07a-42ac-8eab-2a4017b5dc6f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;DELETE /api/pedido-detalles/:idPedido/:idProducto debe eliminar un detalle de pedido&quot;,&quot;fullTitle&quot;:&quot;PedidoDetalles API Endpoints DELETE /api/pedido-detalles/:idPedido/:idProducto debe eliminar un detalle de pedido&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/pedido-detalles/1/1&#x27;);\nassert.strictEqual(res.status, 204);\n// Verificar que fue eliminado\nconst getRes = await request(app).get(&#x27;/api/pedido-detalles/1/1&#x27;);\nassert.strictEqual(getRes.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c591137a-37e8-4425-8e6f-a70f3787f1d7&quot;,&quot;parentUUID&quot;:&quot;2de9573d-d07a-42ac-8eab-2a4017b5dc6f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/pedido-detalles/:idPedido/:idProducto debe retornar 404 para un detalle inexistente&quot;,&quot;fullTitle&quot;:&quot;PedidoDetalles API Endpoints GET /api/pedido-detalles/:idPedido/:idProducto debe retornar 404 para un detalle inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/pedido-detalles/9999/9999&#x27;);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01e2b11b-dce2-4e52-8970-ebbc5f2f6ea2&quot;,&quot;parentUUID&quot;:&quot;2de9573d-d07a-42ac-8eab-2a4017b5dc6f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;946f10c1-eed3-4bdc-a528-efe8cb3eaeab&quot;,&quot;0c321e03-86bb-4dfc-83a1-de0d20bc7288&quot;,&quot;e2770bdf-aff9-4bcc-9149-91ee0a96293d&quot;,&quot;943193cc-124e-4a3e-9333-983a3a7caf4b&quot;,&quot;7f3d8332-28be-45de-8adc-f516da9e5475&quot;,&quot;8b63d5a5-79a1-4c7b-a969-7df9c29391c4&quot;,&quot;c591137a-37e8-4425-8e6f-a70f3787f1d7&quot;,&quot;01e2b11b-dce2-4e52-8970-ebbc5f2f6ea2&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9f5188a5-ddff-4714-adb1-2b0edd1559d7&quot;,&quot;title&quot;:&quot;Pedidos API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\test\\pedidos.test.js&quot;,&quot;file&quot;:&quot;\\test\\pedidos.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook for \&quot;GET /api/pedidos debe retornar todos los pedidos\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pedidos API Endpoints \&quot;before all\&quot; hook for \&quot;GET /api/pedidos debe retornar todos los pedidos\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:71,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Reiniciar tablas relacionadas y configurar datos iniciales\nawait db.query(&#x27;TRUNCATE TABLE Pedidos RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Proveedores RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE MetodoVenta RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE tipoPago RESTART IDENTITY CASCADE&#x27;);\n// Insertar tipos de pago\nawait db.query(`\n    INSERT INTO tipoPago (descripcion, fecha_creacion, activo) \n    VALUES (&#x27;Efectivo&#x27;, NOW(), TRUE), (&#x27;Tarjeta de crédito&#x27;, NOW(), TRUE);\n`);\n// Insertar métodos de venta\nawait db.query(`\n    INSERT INTO MetodoVenta (idTipoPago, descripcion, comision, fecha_creacion, activo)\n    VALUES \n        (1, &#x27;Efectivo&#x27;, 0.00, NOW(), TRUE), \n        (2, &#x27;Tarjeta de crédito&#x27;, 0.05, NOW(), TRUE);\n`);\n// Insertar proveedores\nawait db.query(`\n    INSERT INTO Proveedores (nombre, direccion, rfc, telefono)\n    VALUES \n        (&#x27;Proveedor XYZ&#x27;, &#x27;Calle Principal 123&#x27;, &#x27;RFC123456789&#x27;, &#x27;5551234561&#x27;),\n        (&#x27;Proveedor ABC&#x27;, &#x27;Calle Secundaria 456&#x27;, &#x27;RFC987654321&#x27;, &#x27;5551234562&#x27;);\n`);\n// Insertar pedidos\nawait db.query(`\n    INSERT INTO Pedidos (total, estado, fechaPedido, idMetodoV, idProveedor)\n    VALUES \n        (1200.50, &#x27;Pendiente&#x27;, NOW(), 1, 1),\n        (850.75, &#x27;Completado&#x27;, NOW(), 2, 2);\n`);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\pedidos.test.js:11:9)&quot;},&quot;uuid&quot;:&quot;5339ecff-e2a9-4723-9530-c94213fe571f&quot;,&quot;parentUUID&quot;:&quot;9f5188a5-ddff-4714-adb1-2b0edd1559d7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook for \&quot;GET /api/pedidos/:id debe retornar 404 para un pedido inexistente\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pedidos API Endpoints \&quot;after all\&quot; hook for \&quot;GET /api/pedidos/:id debe retornar 404 para un pedido inexistente\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:67,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await db.query(&#x27;TRUNCATE TABLE Pedidos RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Proveedores RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE MetodoVenta RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE tipoPago RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\pedidos.test.js:48:9)&quot;},&quot;uuid&quot;:&quot;26732864-633e-4607-9c35-fc25c603ae6b&quot;,&quot;parentUUID&quot;:&quot;9f5188a5-ddff-4714-adb1-2b0edd1559d7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/pedidos debe retornar todos los pedidos&quot;,&quot;fullTitle&quot;:&quot;Pedidos API Endpoints GET /api/pedidos debe retornar todos los pedidos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/pedidos&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 2);\nassert.strictEqual(res.body[0].estado, &#x27;Pendiente&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9621511-e0a8-4bd1-9957-84ba9e90caa1&quot;,&quot;parentUUID&quot;:&quot;9f5188a5-ddff-4714-adb1-2b0edd1559d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/pedidos/:id debe retornar un pedido por ID&quot;,&quot;fullTitle&quot;:&quot;Pedidos API Endpoints GET /api/pedidos/:id debe retornar un pedido por ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/pedidos/1&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(res.body.estado, &#x27;Pendiente&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2a5ab5b-eb1b-4e72-839b-e5374a815fd3&quot;,&quot;parentUUID&quot;:&quot;9f5188a5-ddff-4714-adb1-2b0edd1559d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/pedidos debe crear un nuevo pedido&quot;,&quot;fullTitle&quot;:&quot;Pedidos API Endpoints POST /api/pedidos debe crear un nuevo pedido&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newPedido = {\n    total: 500.00,\n    estado: &#x27;Pendiente&#x27;,\n    idMetodoV: 1,\n    idProveedor: 1,\n};\nconst res = await request(app).post(&#x27;/api/pedidos&#x27;).send(newPedido);\nassert.strictEqual(res.status, 201);\nassert.strictEqual(res.body.estado, &#x27;Pendiente&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7bdebcab-0bb6-40ff-8ab0-cc78dd9f9b77&quot;,&quot;parentUUID&quot;:&quot;9f5188a5-ddff-4714-adb1-2b0edd1559d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/pedidos debe fallar con datos inválidos&quot;,&quot;fullTitle&quot;:&quot;Pedidos API Endpoints POST /api/pedidos debe fallar con datos inválidos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const invalidPedido = {\n    total: -100, // Total inválido\n    estado: &#x27;&#x27;, // Estado vacío\n    idMetodoV: 999, // Método de venta inexistente\n    idProveedor: 999, // Proveedor inexistente\n};\nconst res = await request(app).post(&#x27;/api/pedidos&#x27;).send(invalidPedido);\nassert.strictEqual(res.status, 400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4397d3a9-066f-4591-ae2f-94cd0846c14b&quot;,&quot;parentUUID&quot;:&quot;9f5188a5-ddff-4714-adb1-2b0edd1559d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;PUT /api/pedidos/:id debe actualizar un pedido&quot;,&quot;fullTitle&quot;:&quot;Pedidos API Endpoints PUT /api/pedidos/:id debe actualizar un pedido&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedPedido = {\n    total: 1300.00,\n    estado: &#x27;Completado&#x27;,\n    idMetodoV: 2,\n    idProveedor: 2,\n};\nconst res = await request(app).put(&#x27;/api/pedidos/1&#x27;).send(updatedPedido);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(res.body.estado, &#x27;Completado&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df10aa29-1392-449e-a405-039067f6c2f0&quot;,&quot;parentUUID&quot;:&quot;9f5188a5-ddff-4714-adb1-2b0edd1559d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;DELETE /api/pedidos/:id debe eliminar un pedido&quot;,&quot;fullTitle&quot;:&quot;Pedidos API Endpoints DELETE /api/pedidos/:id debe eliminar un pedido&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/pedidos/1&#x27;);\nassert.strictEqual(res.status, 204);\n// Verificar que el pedido fue eliminado\nconst getRes = await request(app).get(&#x27;/api/pedidos/1&#x27;);\nassert.strictEqual(getRes.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd5eaaac-9254-4d27-8920-602bf47bc0c6&quot;,&quot;parentUUID&quot;:&quot;9f5188a5-ddff-4714-adb1-2b0edd1559d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/pedidos/:id debe retornar 404 para un pedido inexistente&quot;,&quot;fullTitle&quot;:&quot;Pedidos API Endpoints GET /api/pedidos/:id debe retornar 404 para un pedido inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/pedidos/9999&#x27;);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;802a3150-7fe9-4fc6-96e9-3d7ec0128968&quot;,&quot;parentUUID&quot;:&quot;9f5188a5-ddff-4714-adb1-2b0edd1559d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;c9621511-e0a8-4bd1-9957-84ba9e90caa1&quot;,&quot;d2a5ab5b-eb1b-4e72-839b-e5374a815fd3&quot;,&quot;7bdebcab-0bb6-40ff-8ab0-cc78dd9f9b77&quot;,&quot;4397d3a9-066f-4591-ae2f-94cd0846c14b&quot;,&quot;df10aa29-1392-449e-a405-039067f6c2f0&quot;,&quot;fd5eaaac-9254-4d27-8920-602bf47bc0c6&quot;,&quot;802a3150-7fe9-4fc6-96e9-3d7ec0128968&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ec44c2b7-cf05-4174-add1-0562e6dd5811&quot;,&quot;title&quot;:&quot;Productos API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\test\\productos.test.js&quot;,&quot;file&quot;:&quot;\\test\\productos.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook for \&quot;GET /api/productos debe retornar todos los productos\&quot;&quot;,&quot;fullTitle&quot;:&quot;Productos API Endpoints \&quot;before all\&quot; hook for \&quot;GET /api/productos debe retornar todos los productos\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:60,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Reset tables and set up initial data\nawait db.query(&#x27;TRUNCATE TABLE Productos RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Categorias RESTART IDENTITY CASCADE&#x27;);\n// Insert categories\nawait db.query(`\n    INSERT INTO Categorias (nombre, descripcion)\n    VALUES \n        (&#x27;Electrónicos&#x27;, &#x27;Productos electrónicos de consumo&#x27;),\n        (&#x27;Papelería&#x27;, &#x27;Productos de papelería y oficina&#x27;);\n`);\n// Insert initial products\nawait db.query(`\n    INSERT INTO Productos (nombre, descripcion, precio, stock, idcategoria)\n    VALUES \n        (&#x27;Smartphone&#x27;, &#x27;Teléfono inteligente de última generación&#x27;, 899.99, 50, 1),\n        (&#x27;Lápiz&#x27;, &#x27;Lápiz de grafito HB&#x27;, 0.99, 1000, 2);\n`);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\productos.test.js:11:9)&quot;},&quot;uuid&quot;:&quot;7047f0a8-3259-48ab-80cc-b1462172e3a7&quot;,&quot;parentUUID&quot;:&quot;ec44c2b7-cf05-4174-add1-0562e6dd5811&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook for \&quot;DELETE /api/productos/:id debe retornar 404 para un producto inexistente\&quot;&quot;,&quot;fullTitle&quot;:&quot;Productos API Endpoints \&quot;after all\&quot; hook for \&quot;DELETE /api/productos/:id debe retornar 404 para un producto inexistente\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:55,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await db.query(&#x27;TRUNCATE TABLE Productos RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Categorias RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\productos.test.js:32:9)&quot;},&quot;uuid&quot;:&quot;3b5334b4-892f-4aac-b06f-61201c768700&quot;,&quot;parentUUID&quot;:&quot;ec44c2b7-cf05-4174-add1-0562e6dd5811&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/productos debe retornar todos los productos&quot;,&quot;fullTitle&quot;:&quot;Productos API Endpoints GET /api/productos debe retornar todos los productos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/productos&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 2);\nassert.strictEqual(res.body[0].nombre, &#x27;Smartphone&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eeafade2-25b9-44df-a20a-423d665f7123&quot;,&quot;parentUUID&quot;:&quot;ec44c2b7-cf05-4174-add1-0562e6dd5811&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/productos/:id debe retornar un producto por ID&quot;,&quot;fullTitle&quot;:&quot;Productos API Endpoints GET /api/productos/:id debe retornar un producto por ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/productos/1&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(res.body.nombre, &#x27;Smartphone&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39eff650-efc0-468c-93c0-6218671f55f3&quot;,&quot;parentUUID&quot;:&quot;ec44c2b7-cf05-4174-add1-0562e6dd5811&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/productos/:id debe retornar 404 para un producto inexistente&quot;,&quot;fullTitle&quot;:&quot;Productos API Endpoints GET /api/productos/:id debe retornar 404 para un producto inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/productos/9999&#x27;);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ecafe922-3ef2-4fbe-8d81-78f680e2c816&quot;,&quot;parentUUID&quot;:&quot;ec44c2b7-cf05-4174-add1-0562e6dd5811&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/productos debe crear un nuevo producto&quot;,&quot;fullTitle&quot;:&quot;Productos API Endpoints POST /api/productos debe crear un nuevo producto&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newProducto = {\n    nombre: &#x27;Tablet&#x27;,\n    descripcion: &#x27;Tablet de última generación&#x27;,\n    precio: 499.99,\n    stock: 30,\n    idcategoria: 1,\n};\nconst res = await request(app).post(&#x27;/api/productos&#x27;).send(newProducto);\nassert.strictEqual(res.status, 201);\nassert.strictEqual(res.body.nombre, &#x27;Tablet&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf7c0f7b-6bac-4f1a-b1f6-231ba90cfa52&quot;,&quot;parentUUID&quot;:&quot;ec44c2b7-cf05-4174-add1-0562e6dd5811&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/productos debe fallar con datos inválidos&quot;,&quot;fullTitle&quot;:&quot;Productos API Endpoints POST /api/productos debe fallar con datos inválidos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const invalidProducto = {\n    nombre: &#x27;&#x27;, // Nombre vacío\n    descripcion: &#x27;Producto inválido&#x27;,\n    precio: -100, // Precio negativo\n    stock: -10, // Stock negativo\n    idcategoria: 9999, // Categoría inexistente\n};\nconst res = await request(app).post(&#x27;/api/productos&#x27;).send(invalidProducto);\nassert.strictEqual(res.status, 400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;20c70e63-bab5-4bb7-9a9d-2f25af09870d&quot;,&quot;parentUUID&quot;:&quot;ec44c2b7-cf05-4174-add1-0562e6dd5811&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;PUT /api/productos/:id debe actualizar un producto existente&quot;,&quot;fullTitle&quot;:&quot;Productos API Endpoints PUT /api/productos/:id debe actualizar un producto existente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedProducto = {\n    nombre: &#x27;Smartphone Pro&#x27;,\n    descripcion: &#x27;Teléfono inteligente avanzado&#x27;,\n    precio: 999.99,\n    stock: 60,\n    idcategoria: 1,\n};\nconst res = await request(app).put(&#x27;/api/productos/1&#x27;).send(updatedProducto);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(res.body.nombre, &#x27;Smartphone Pro&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a7af463-9df0-48b9-941c-44558210b3b2&quot;,&quot;parentUUID&quot;:&quot;ec44c2b7-cf05-4174-add1-0562e6dd5811&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;PUT /api/productos/:id debe retornar 404 para un producto inexistente&quot;,&quot;fullTitle&quot;:&quot;Productos API Endpoints PUT /api/productos/:id debe retornar 404 para un producto inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedProducto = {\n    nombre: &#x27;Producto Fantasma&#x27;,\n    descripcion: &#x27;Descripción fantasma&#x27;,\n    precio: 100,\n    stock: 10,\n    idcategoria: 1,\n};\nconst res = await request(app).put(&#x27;/api/productos/9999&#x27;).send(updatedProducto);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e27f88f-3563-4696-81e5-e00a42ba2a72&quot;,&quot;parentUUID&quot;:&quot;ec44c2b7-cf05-4174-add1-0562e6dd5811&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;DELETE /api/productos/:id debe eliminar un producto existente&quot;,&quot;fullTitle&quot;:&quot;Productos API Endpoints DELETE /api/productos/:id debe eliminar un producto existente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/productos/1&#x27;);\nassert.strictEqual(res.status, 204);\n// Verify it was deleted\nconst getRes = await request(app).get(&#x27;/api/productos/1&#x27;);\nassert.strictEqual(getRes.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;670ea231-8463-439f-b1ee-046e830c6aad&quot;,&quot;parentUUID&quot;:&quot;ec44c2b7-cf05-4174-add1-0562e6dd5811&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;DELETE /api/productos/:id debe retornar 404 para un producto inexistente&quot;,&quot;fullTitle&quot;:&quot;Productos API Endpoints DELETE /api/productos/:id debe retornar 404 para un producto inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/productos/9999&#x27;);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;09e2f7aa-8d43-40d8-8642-ebe337d42c37&quot;,&quot;parentUUID&quot;:&quot;ec44c2b7-cf05-4174-add1-0562e6dd5811&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;eeafade2-25b9-44df-a20a-423d665f7123&quot;,&quot;39eff650-efc0-468c-93c0-6218671f55f3&quot;,&quot;ecafe922-3ef2-4fbe-8d81-78f680e2c816&quot;,&quot;cf7c0f7b-6bac-4f1a-b1f6-231ba90cfa52&quot;,&quot;20c70e63-bab5-4bb7-9a9d-2f25af09870d&quot;,&quot;6a7af463-9df0-48b9-941c-44558210b3b2&quot;,&quot;3e27f88f-3563-4696-81e5-e00a42ba2a72&quot;,&quot;670ea231-8463-439f-b1ee-046e830c6aad&quot;,&quot;09e2f7aa-8d43-40d8-8642-ebe337d42c37&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1fd22886-61e3-4ea0-89c2-e1be761526ba&quot;,&quot;title&quot;:&quot;Proveedores API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\test\\proveedores.test.js&quot;,&quot;file&quot;:&quot;\\test\\proveedores.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook for \&quot;GET /api/proveedores debe retornar todos los proveedores\&quot;&quot;,&quot;fullTitle&quot;:&quot;Proveedores API Endpoints \&quot;before all\&quot; hook for \&quot;GET /api/proveedores debe retornar todos los proveedores\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:56,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await db.query(&#x27;TRUNCATE TABLE Proveedores RESTART IDENTITY CASCADE&#x27;);\n// Insertar datos iniciales válidos\nawait db.query(`\n  INSERT INTO Proveedores (nombre, direccion, rfc, telefono)\n  VALUES \n    (&#x27;Proveedor XYZ&#x27;, &#x27;Calle Principal 123, Ciudad&#x27;, &#x27;RFC123456789A&#x27;, &#x27;5551234561&#x27;),\n    (&#x27;Proveedor ABC&#x27;, &#x27;Calle Secundaria 456, Ciudad&#x27;, &#x27;RFC987654321B&#x27;, &#x27;5551234562&#x27;);\n`);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\proveedores.test.js:10:5)&quot;},&quot;uuid&quot;:&quot;fe265d61-46cf-46c3-ac20-c90a480ed82e&quot;,&quot;parentUUID&quot;:&quot;1fd22886-61e3-4ea0-89c2-e1be761526ba&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook for \&quot;DELETE /api/proveedores/:id debe eliminar un proveedor existente\&quot;&quot;,&quot;fullTitle&quot;:&quot;Proveedores API Endpoints \&quot;after all\&quot; hook for \&quot;DELETE /api/proveedores/:id debe eliminar un proveedor existente\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:54,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await db.query(&#x27;TRUNCATE TABLE Proveedores RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\proveedores.test.js:22:5)&quot;},&quot;uuid&quot;:&quot;8ce416a0-7f7d-4a4d-bd0e-7fffc8cc5668&quot;,&quot;parentUUID&quot;:&quot;1fd22886-61e3-4ea0-89c2-e1be761526ba&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/proveedores debe retornar todos los proveedores&quot;,&quot;fullTitle&quot;:&quot;Proveedores API Endpoints GET /api/proveedores debe retornar todos los proveedores&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/proveedores&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea5499a3-6eb0-42c1-822a-6d67f22c0e29&quot;,&quot;parentUUID&quot;:&quot;1fd22886-61e3-4ea0-89c2-e1be761526ba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/proveedores/:id debe retornar un proveedor por ID&quot;,&quot;fullTitle&quot;:&quot;Proveedores API Endpoints GET /api/proveedores/:id debe retornar un proveedor por ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/proveedores/1&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(res.body.nombre, &#x27;Proveedor XYZ&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;24cfd7a1-deb4-4d5f-9ac5-0a55dd439204&quot;,&quot;parentUUID&quot;:&quot;1fd22886-61e3-4ea0-89c2-e1be761526ba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/proveedores debe crear un nuevo proveedor&quot;,&quot;fullTitle&quot;:&quot;Proveedores API Endpoints POST /api/proveedores debe crear un nuevo proveedor&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newProveedor = {\n  nombre: &#x27;Proveedor DEF&#x27;,\n  direccion: &#x27;Calle Tercera 789&#x27;,\n  rfc: &#x27;RFC112233445C&#x27;,\n  telefono: &#x27;5551234563&#x27;,\n};\nconst res = await request(app).post(&#x27;/api/proveedores&#x27;).send(newProveedor);\nassert.strictEqual(res.status, 201);\nassert.strictEqual(res.body.nombre, &#x27;Proveedor DEF&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74d26d1b-5b79-45a0-8f71-7c7858f4d8e3&quot;,&quot;parentUUID&quot;:&quot;1fd22886-61e3-4ea0-89c2-e1be761526ba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/proveedores debe fallar con datos inválidos&quot;,&quot;fullTitle&quot;:&quot;Proveedores API Endpoints POST /api/proveedores debe fallar con datos inválidos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const invalidProveedor = {\n  nombre: &#x27;&#x27;,\n  direccion: &#x27;Dirección sin nombre&#x27;,\n  rfc: &#x27;123&#x27;, // RFC inválido\n  telefono: &#x27;123456&#x27;, // Teléfono inválido\n};\nconst res = await request(app).post(&#x27;/api/proveedores&#x27;).send(invalidProveedor);\nassert.strictEqual(res.status, 400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e202d2a5-3665-46ea-93c7-a03aea21ce02&quot;,&quot;parentUUID&quot;:&quot;1fd22886-61e3-4ea0-89c2-e1be761526ba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;PUT /api/proveedores/:id debe actualizar un proveedor existente&quot;,&quot;fullTitle&quot;:&quot;Proveedores API Endpoints PUT /api/proveedores/:id debe actualizar un proveedor existente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedProveedor = {\n  nombre: &#x27;Proveedor XYZ Modificado&#x27;,\n  direccion: &#x27;Nueva dirección&#x27;,\n  rfc: &#x27;RFC0987654321&#x27;,\n  telefono: &#x27;5559876543&#x27;,\n};\nconst res = await request(app).put(&#x27;/api/proveedores/1&#x27;).send(updatedProveedor);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(res.body.nombre, &#x27;Proveedor XYZ Modificado&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f687207-0929-4962-ad9d-3283b74747d2&quot;,&quot;parentUUID&quot;:&quot;1fd22886-61e3-4ea0-89c2-e1be761526ba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;DELETE /api/proveedores/:id debe eliminar un proveedor existente&quot;,&quot;fullTitle&quot;:&quot;Proveedores API Endpoints DELETE /api/proveedores/:id debe eliminar un proveedor existente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/proveedores/1&#x27;);\nassert.strictEqual(res.status, 204);\n// Verificar que fue eliminado\nconst getRes = await request(app).get(&#x27;/api/proveedores/1&#x27;);\nassert.strictEqual(getRes.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e89e3409-c023-4576-a3f3-f9e611bfc35d&quot;,&quot;parentUUID&quot;:&quot;1fd22886-61e3-4ea0-89c2-e1be761526ba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;ea5499a3-6eb0-42c1-822a-6d67f22c0e29&quot;,&quot;24cfd7a1-deb4-4d5f-9ac5-0a55dd439204&quot;,&quot;74d26d1b-5b79-45a0-8f71-7c7858f4d8e3&quot;,&quot;e202d2a5-3665-46ea-93c7-a03aea21ce02&quot;,&quot;7f687207-0929-4962-ad9d-3283b74747d2&quot;,&quot;e89e3409-c023-4576-a3f3-f9e611bfc35d&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6e596b23-d375-4df1-bebc-6df1d55fc3e3&quot;,&quot;title&quot;:&quot;Roles API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\test\\roles.test.js&quot;,&quot;file&quot;:&quot;\\test\\roles.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook for \&quot;GET /api/roles debe retornar todos los roles\&quot;&quot;,&quot;fullTitle&quot;:&quot;Roles API Endpoints \&quot;before all\&quot; hook for \&quot;GET /api/roles debe retornar todos los roles\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:57,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Reiniciar tabla de roles\nawait db.query(&#x27;TRUNCATE TABLE Roles RESTART IDENTITY CASCADE&#x27;);\n// Insertar datos iniciales desde la base de datos proporcionada\nawait db.query(`\n  INSERT INTO Roles (tipo) \n  VALUES \n  (&#x27;Administrador&#x27;), \n  (&#x27;Vendedor&#x27;), \n  (&#x27;Cliente&#x27;), \n  (&#x27;Gerente&#x27;), \n  (&#x27;Soporte Técnico&#x27;);\n`);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\roles.test.js:11:5)&quot;},&quot;uuid&quot;:&quot;46cb217e-09ef-4710-8168-5d45448b149b&quot;,&quot;parentUUID&quot;:&quot;6e596b23-d375-4df1-bebc-6df1d55fc3e3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook for \&quot;GET /api/roles/:id debe retornar 404 para un rol inexistente\&quot;&quot;,&quot;fullTitle&quot;:&quot;Roles API Endpoints \&quot;after all\&quot; hook for \&quot;GET /api/roles/:id debe retornar 404 para un rol inexistente\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:55,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpieza después de las pruebas\nawait db.query(&#x27;TRUNCATE TABLE Roles RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\roles.test.js:27:5)&quot;},&quot;uuid&quot;:&quot;e9ac572f-b4e9-49c3-bde2-39009c959f4d&quot;,&quot;parentUUID&quot;:&quot;6e596b23-d375-4df1-bebc-6df1d55fc3e3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/roles debe retornar todos los roles&quot;,&quot;fullTitle&quot;:&quot;Roles API Endpoints GET /api/roles debe retornar todos los roles&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/roles&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 5); // Verifica que hay 5 roles en la base de datos&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec9cdec2-afd7-4831-afe7-308bcb11d59e&quot;,&quot;parentUUID&quot;:&quot;6e596b23-d375-4df1-bebc-6df1d55fc3e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/roles/:id debe retornar un rol por ID&quot;,&quot;fullTitle&quot;:&quot;Roles API Endpoints GET /api/roles/:id debe retornar un rol por ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/roles/1&#x27;); // Rol con id 1 debería ser &#x27;Administrador&#x27;\nassert.strictEqual(res.status, 200);\nassert.strictEqual(res.body.tipo, &#x27;Administrador&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca07989c-ce94-4d33-8414-507b9e2f73ba&quot;,&quot;parentUUID&quot;:&quot;6e596b23-d375-4df1-bebc-6df1d55fc3e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/roles debe crear un nuevo rol&quot;,&quot;fullTitle&quot;:&quot;Roles API Endpoints POST /api/roles debe crear un nuevo rol&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newRol = { tipo: &#x27;Moderador&#x27; };\nconst res = await request(app).post(&#x27;/api/roles&#x27;).send(newRol);\nassert.strictEqual(res.status, 201);\nassert.strictEqual(res.body.tipo, &#x27;Moderador&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d22ec8ca-0510-44e7-814c-7a3a36397018&quot;,&quot;parentUUID&quot;:&quot;6e596b23-d375-4df1-bebc-6df1d55fc3e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/roles debe fallar si falta el campo tipo&quot;,&quot;fullTitle&quot;:&quot;Roles API Endpoints POST /api/roles debe fallar si falta el campo tipo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const invalidRol = {}; // Aquí falta el campo \&quot;tipo\&quot;\nconst res = await request(app).post(&#x27;/api/roles&#x27;).send(invalidRol);\nassert.strictEqual(res.status, 400); // Espera un error 400\nassert.strictEqual(res.body.message, &#x27;El campo \&quot;tipo\&quot; es obligatorio.&#x27;); // Verifica el mensaje de error&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d548cf5f-d78f-4ec6-af6f-a06f709ddffb&quot;,&quot;parentUUID&quot;:&quot;6e596b23-d375-4df1-bebc-6df1d55fc3e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;PUT /api/roles/:id debe actualizar un rol&quot;,&quot;fullTitle&quot;:&quot;Roles API Endpoints PUT /api/roles/:id debe actualizar un rol&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedRol = { tipo: &#x27;SuperAdmin&#x27; };\nconst res = await request(app).put(&#x27;/api/roles/1&#x27;).send(updatedRol); // Actualizar rol &#x27;Administrador&#x27;\nassert.strictEqual(res.status, 200);\nassert.strictEqual(res.body.tipo, &#x27;SuperAdmin&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61a24624-bb84-40c9-9248-33f77f5f64e8&quot;,&quot;parentUUID&quot;:&quot;6e596b23-d375-4df1-bebc-6df1d55fc3e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;DELETE /api/roles/:id debe eliminar un rol&quot;,&quot;fullTitle&quot;:&quot;Roles API Endpoints DELETE /api/roles/:id debe eliminar un rol&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/roles/1&#x27;); // Eliminar rol &#x27;Administrador&#x27;\nassert.strictEqual(res.status, 204); // No Content\n// Verificar que el rol fue eliminado\nconst getRes = await request(app).get(&#x27;/api/roles/1&#x27;);\nassert.strictEqual(getRes.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f31972e2-2ffe-4833-809d-80bcd90f01b0&quot;,&quot;parentUUID&quot;:&quot;6e596b23-d375-4df1-bebc-6df1d55fc3e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/roles/:id debe retornar 404 para un rol inexistente&quot;,&quot;fullTitle&quot;:&quot;Roles API Endpoints GET /api/roles/:id debe retornar 404 para un rol inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/roles/9999&#x27;); // ID que no existe\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47cae044-f43f-4cde-a4bf-c9bdd6a50ec7&quot;,&quot;parentUUID&quot;:&quot;6e596b23-d375-4df1-bebc-6df1d55fc3e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;ec9cdec2-afd7-4831-afe7-308bcb11d59e&quot;,&quot;ca07989c-ce94-4d33-8414-507b9e2f73ba&quot;,&quot;d22ec8ca-0510-44e7-814c-7a3a36397018&quot;,&quot;d548cf5f-d78f-4ec6-af6f-a06f709ddffb&quot;,&quot;61a24624-bb84-40c9-9248-33f77f5f64e8&quot;,&quot;f31972e2-2ffe-4833-809d-80bcd90f01b0&quot;,&quot;47cae044-f43f-4cde-a4bf-c9bdd6a50ec7&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;13fa17db-520f-408b-b100-80aec1d66ec8&quot;,&quot;title&quot;:&quot;Tipos de Pago API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\test\\tipoPago.test.js&quot;,&quot;file&quot;:&quot;\\test\\tipoPago.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook for \&quot;GET /api/tipos-pago debe retornar todos los tipos de pago\&quot;&quot;,&quot;fullTitle&quot;:&quot;Tipos de Pago API Endpoints \&quot;before all\&quot; hook for \&quot;GET /api/tipos-pago debe retornar todos los tipos de pago\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:54,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Reiniciar tabla TipoPago y configurar datos iniciales\nawait db.query(&#x27;TRUNCATE TABLE TipoPago RESTART IDENTITY CASCADE&#x27;);\n// Insertar datos iniciales de tipos de pago\nawait db.query(`\n  INSERT INTO TipoPago (descripcion, fecha_creacion, activo)\n  VALUES \n    (&#x27;Efectivo&#x27;, NOW(), TRUE),\n    (&#x27;Tarjeta de crédito&#x27;, NOW(), TRUE);\n`);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\tipoPago.test.js:11:5)&quot;},&quot;uuid&quot;:&quot;1fdacac3-b6d8-4176-8c04-f963f8034fd3&quot;,&quot;parentUUID&quot;:&quot;13fa17db-520f-408b-b100-80aec1d66ec8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook for \&quot;GET /api/tipos-pago/:id debe retornar 404 para un tipo de pago inexistente\&quot;&quot;,&quot;fullTitle&quot;:&quot;Tipos de Pago API Endpoints \&quot;after all\&quot; hook for \&quot;GET /api/tipos-pago/:id debe retornar 404 para un tipo de pago inexistente\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:52,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar la tabla TipoPago después de las pruebas\nawait db.query(&#x27;TRUNCATE TABLE TipoPago RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\tipoPago.test.js:24:5)&quot;},&quot;uuid&quot;:&quot;ca66c73c-750c-4954-bded-6f3fa3f8679a&quot;,&quot;parentUUID&quot;:&quot;13fa17db-520f-408b-b100-80aec1d66ec8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/tipos-pago debe retornar todos los tipos de pago&quot;,&quot;fullTitle&quot;:&quot;Tipos de Pago API Endpoints GET /api/tipos-pago debe retornar todos los tipos de pago&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/tipos-pago&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 2); \nassert.strictEqual(res.body[0].descripcion, &#x27;Efectivo&#x27;);\nassert.strictEqual(res.body[1].descripcion, &#x27;Tarjeta de crédito&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b853af50-d441-42bd-a82a-b851c96cf8a3&quot;,&quot;parentUUID&quot;:&quot;13fa17db-520f-408b-b100-80aec1d66ec8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/tipos-pago/:id debe retornar un tipo de pago por ID&quot;,&quot;fullTitle&quot;:&quot;Tipos de Pago API Endpoints GET /api/tipos-pago/:id debe retornar un tipo de pago por ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/tipos-pago/1&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(res.body.descripcion, &#x27;Efectivo&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8029eb3f-9fee-4e62-9c8f-b95785590bbe&quot;,&quot;parentUUID&quot;:&quot;13fa17db-520f-408b-b100-80aec1d66ec8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/tipos-pago debe crear un nuevo tipo de pago&quot;,&quot;fullTitle&quot;:&quot;Tipos de Pago API Endpoints POST /api/tipos-pago debe crear un nuevo tipo de pago&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newTipo = {\n  descripcion: &#x27;Transferencia bancaria&#x27;,\n  activo: true,\n};\nconst res = await request(app).post(&#x27;/api/tipos-pago&#x27;).send(newTipo);\nassert.strictEqual(res.status, 201);\nassert.strictEqual(res.body.descripcion, &#x27;Transferencia bancaria&#x27;);\nassert.strictEqual(res.body.activo, true);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3d06f80-c66e-487a-94c4-4d7da983e3c2&quot;,&quot;parentUUID&quot;:&quot;13fa17db-520f-408b-b100-80aec1d66ec8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/tipos-pago debe fallar con datos inválidos&quot;,&quot;fullTitle&quot;:&quot;Tipos de Pago API Endpoints POST /api/tipos-pago debe fallar con datos inválidos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const invalidTipo = {\n  descripcion: &#x27;&#x27;, // Descripción vacía\n  activo: &#x27;invalid&#x27;, // Valor no booleano\n};\nconst res = await request(app).post(&#x27;/api/tipos-pago&#x27;).send(invalidTipo);\nassert.strictEqual(res.status, 400);\nassert.ok(Array.isArray(res.body.errores));\nassert.ok(res.body.errores.length &gt; 0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;505c52b2-2b47-4d84-8510-5c323d0c6120&quot;,&quot;parentUUID&quot;:&quot;13fa17db-520f-408b-b100-80aec1d66ec8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;PUT /api/tipos-pago/:id debe actualizar un tipo de pago existente&quot;,&quot;fullTitle&quot;:&quot;Tipos de Pago API Endpoints PUT /api/tipos-pago/:id debe actualizar un tipo de pago existente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedTipo = {\n  descripcion: &#x27;Efectivo Modificado&#x27;,\n  activo: false,\n};\nconst res = await request(app).put(&#x27;/api/tipos-pago/1&#x27;).send(updatedTipo);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(res.body.descripcion, &#x27;Efectivo Modificado&#x27;);\nassert.strictEqual(res.body.activo, false);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;adda560d-9846-49ab-a220-f2033abbadfd&quot;,&quot;parentUUID&quot;:&quot;13fa17db-520f-408b-b100-80aec1d66ec8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;DELETE /api/tipos-pago/:id debe eliminar un tipo de pago existente&quot;,&quot;fullTitle&quot;:&quot;Tipos de Pago API Endpoints DELETE /api/tipos-pago/:id debe eliminar un tipo de pago existente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/tipos-pago/1&#x27;);\nassert.strictEqual(res.status, 204);\n// Verificar que el tipo de pago fue eliminado\nconst getRes = await request(app).get(&#x27;/api/tipos-pago/1&#x27;);\nassert.strictEqual(getRes.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34e21280-4653-4c3e-ba33-7aa94f48e83e&quot;,&quot;parentUUID&quot;:&quot;13fa17db-520f-408b-b100-80aec1d66ec8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/tipos-pago/:id debe retornar 404 para un tipo de pago inexistente&quot;,&quot;fullTitle&quot;:&quot;Tipos de Pago API Endpoints GET /api/tipos-pago/:id debe retornar 404 para un tipo de pago inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/tipos-pago/9999&#x27;); // ID inexistente\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85bbb04a-cd92-4f26-8ab2-adb05f144e68&quot;,&quot;parentUUID&quot;:&quot;13fa17db-520f-408b-b100-80aec1d66ec8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;b853af50-d441-42bd-a82a-b851c96cf8a3&quot;,&quot;8029eb3f-9fee-4e62-9c8f-b95785590bbe&quot;,&quot;b3d06f80-c66e-487a-94c4-4d7da983e3c2&quot;,&quot;505c52b2-2b47-4d84-8510-5c323d0c6120&quot;,&quot;adda560d-9846-49ab-a220-f2033abbadfd&quot;,&quot;34e21280-4653-4c3e-ba33-7aa94f48e83e&quot;,&quot;85bbb04a-cd92-4f26-8ab2-adb05f144e68&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;65f9c121-4b8e-4f88-97f3-c7b3818d1146&quot;,&quot;title&quot;:&quot;Usuarios API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\test\\usuarios.test.js&quot;,&quot;file&quot;:&quot;\\test\\usuarios.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook for \&quot;GET /api/usuarios debe retornar todos los usuarios\&quot;&quot;,&quot;fullTitle&quot;:&quot;Usuarios API Endpoints \&quot;before all\&quot; hook for \&quot;GET /api/usuarios debe retornar todos los usuarios\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:57,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar las tablas y agregar datos iniciales\nawait db.query(&#x27;TRUNCATE TABLE Usuarios RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Roles RESTART IDENTITY CASCADE&#x27;);\n// Insertar roles\nawait db.query(`\n  INSERT INTO Roles (tipo)\n  VALUES (&#x27;Administrador&#x27;), (&#x27;Vendedor&#x27;), (&#x27;Cliente&#x27;);\n`);\n// Insertar usuarios\nawait db.query(`\n  INSERT INTO Usuarios (nombre, correo, password, idRol)\n  VALUES \n  (&#x27;Juan Pérez&#x27;, &#x27;juan@gmail.com&#x27;, &#x27;123456&#x27;, 1),\n  (&#x27;Ana García&#x27;, &#x27;ana@gmail.com&#x27;, &#x27;abcdef&#x27;, 2);\n`);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\usuarios.test.js:12:5)&quot;},&quot;uuid&quot;:&quot;ddf07446-65a2-4101-a128-5883bd724d75&quot;,&quot;parentUUID&quot;:&quot;65f9c121-4b8e-4f88-97f3-c7b3818d1146&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook for \&quot;GET /api/usuarios/:id debe retornar 404 para un usuario inexistente\&quot;&quot;,&quot;fullTitle&quot;:&quot;Usuarios API Endpoints \&quot;after all\&quot; hook for \&quot;GET /api/usuarios/:id debe retornar 404 para un usuario inexistente\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:53,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar las tablas después de las pruebas\nawait db.query(&#x27;TRUNCATE TABLE Usuarios RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Roles RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\usuarios.test.js:32:5)&quot;},&quot;uuid&quot;:&quot;83c49960-904e-4d64-bb87-a515f88b7bff&quot;,&quot;parentUUID&quot;:&quot;65f9c121-4b8e-4f88-97f3-c7b3818d1146&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/usuarios debe retornar todos los usuarios&quot;,&quot;fullTitle&quot;:&quot;Usuarios API Endpoints GET /api/usuarios debe retornar todos los usuarios&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/usuarios&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 2);\nassert.strictEqual(res.body[0].nombre, &#x27;Juan Pérez&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15b6ecc2-fecb-4c9f-a7c2-5eb3afdcae8b&quot;,&quot;parentUUID&quot;:&quot;65f9c121-4b8e-4f88-97f3-c7b3818d1146&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/usuarios/:id debe retornar un usuario por ID&quot;,&quot;fullTitle&quot;:&quot;Usuarios API Endpoints GET /api/usuarios/:id debe retornar un usuario por ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/usuarios/1&#x27;);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;nombre&#x27;));\nassert.strictEqual(res.body.nombre, &#x27;Juan Pérez&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b57c0fe-f639-415b-a40f-8205f867b35a&quot;,&quot;parentUUID&quot;:&quot;65f9c121-4b8e-4f88-97f3-c7b3818d1146&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/usuarios debe crear un nuevo usuario&quot;,&quot;fullTitle&quot;:&quot;Usuarios API Endpoints POST /api/usuarios debe crear un nuevo usuario&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newUsuario = {\n  nombre: &#x27;Oscar López&#x27;,\n  correo: &#x27;oscar@gmail.com&#x27;,\n  password: &#x27;12345678&#x27;,\n  idRol: 3,\n};\nconst res = await request(app).post(&#x27;/api/usuarios&#x27;).send(newUsuario);\nassert.strictEqual(res.status, 201);\nassert.ok(res.body.hasOwnProperty(&#x27;nombre&#x27;));\nassert.strictEqual(res.body.nombre, &#x27;Oscar López&#x27;);\n// Verificar que se agregó correctamente\nconst allUsuarios = await request(app).get(&#x27;/api/usuarios&#x27;);\nassert.strictEqual(allUsuarios.body.length, 3);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a2d2ac0-9df0-4d36-8413-8a90a5a446ef&quot;,&quot;parentUUID&quot;:&quot;65f9c121-4b8e-4f88-97f3-c7b3818d1146&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/usuarios debe fallar con datos inválidos&quot;,&quot;fullTitle&quot;:&quot;Usuarios API Endpoints POST /api/usuarios debe fallar con datos inválidos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const invalidUsuario = {\n  nombre: &#x27;&#x27;, // Nombre vacío\n  correo: &#x27;oscar.com&#x27;, // Correo inválido\n  password: &#x27;123&#x27;, // Contraseña corta\n  idRol: &#x27;admin&#x27;, // idRol inválido\n};\nconst res = await request(app).post(&#x27;/api/usuarios&#x27;).send(invalidUsuario);\nassert.strictEqual(res.status, 400);\nassert.ok(Array.isArray(res.body.errores));\nassert.ok(res.body.errores.length &gt; 0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a50ec951-adc7-409a-a25f-c16ce151199c&quot;,&quot;parentUUID&quot;:&quot;65f9c121-4b8e-4f88-97f3-c7b3818d1146&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;PUT /api/usuarios/:id debe actualizar un usuario existente&quot;,&quot;fullTitle&quot;:&quot;Usuarios API Endpoints PUT /api/usuarios/:id debe actualizar un usuario existente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedUsuario = {\n  nombre: &#x27;Juan Pérez Actualizado&#x27;,\n  correo: &#x27;juan.actualizado@gmail.com&#x27;,\n  password: &#x27;654321&#x27;,\n  idRol: 2,\n};\nconst res = await request(app).put(&#x27;/api/usuarios/1&#x27;).send(updatedUsuario);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;nombre&#x27;));\nassert.strictEqual(res.body.nombre, &#x27;Juan Pérez Actualizado&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc4f8fed-e0fd-4c69-9485-6b9415a8dcc3&quot;,&quot;parentUUID&quot;:&quot;65f9c121-4b8e-4f88-97f3-c7b3818d1146&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;PUT /api/usuarios/:id debe fallar con datos inválidos&quot;,&quot;fullTitle&quot;:&quot;Usuarios API Endpoints PUT /api/usuarios/:id debe fallar con datos inválidos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const invalidUsuario = {\n  nombre: &#x27;A&#x27;, // Nombre demasiado corto\n  correo: &#x27;invalid.com&#x27;, // Correo inválido\n  password: &#x27;123&#x27;, // Contraseña corta\n  idRol: &#x27;rol&#x27;, // idRol inválido\n};\nconst res = await request(app).put(&#x27;/api/usuarios/1&#x27;).send(invalidUsuario);\nassert.strictEqual(res.status, 400);\nassert.ok(Array.isArray(res.body.errores));\nassert.ok(res.body.errores.length &gt; 0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;afac941e-9826-4804-bf53-6d2a6c86523a&quot;,&quot;parentUUID&quot;:&quot;65f9c121-4b8e-4f88-97f3-c7b3818d1146&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;DELETE /api/usuarios/:id debe eliminar un usuario existente&quot;,&quot;fullTitle&quot;:&quot;Usuarios API Endpoints DELETE /api/usuarios/:id debe eliminar un usuario existente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/usuarios/1&#x27;);\nassert.strictEqual(res.status, 204);\n// Verificar que el usuario fue eliminado\nconst getRes = await request(app).get(&#x27;/api/usuarios/1&#x27;);\nassert.strictEqual(getRes.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef925e72-0945-468a-8d15-1fb2b26d964c&quot;,&quot;parentUUID&quot;:&quot;65f9c121-4b8e-4f88-97f3-c7b3818d1146&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/usuarios/:id debe retornar 404 para un usuario inexistente&quot;,&quot;fullTitle&quot;:&quot;Usuarios API Endpoints GET /api/usuarios/:id debe retornar 404 para un usuario inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/usuarios/999&#x27;);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f282e302-4092-447e-b092-6c65874d0a44&quot;,&quot;parentUUID&quot;:&quot;65f9c121-4b8e-4f88-97f3-c7b3818d1146&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;15b6ecc2-fecb-4c9f-a7c2-5eb3afdcae8b&quot;,&quot;9b57c0fe-f639-415b-a40f-8205f867b35a&quot;,&quot;1a2d2ac0-9df0-4d36-8413-8a90a5a446ef&quot;,&quot;a50ec951-adc7-409a-a25f-c16ce151199c&quot;,&quot;cc4f8fed-e0fd-4c69-9485-6b9415a8dcc3&quot;,&quot;afac941e-9826-4804-bf53-6d2a6c86523a&quot;,&quot;ef925e72-0945-468a-8d15-1fb2b26d964c&quot;,&quot;f282e302-4092-447e-b092-6c65874d0a44&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;516302c4-8deb-4d06-a75a-dd3b229d33fe&quot;,&quot;title&quot;:&quot;Ventas API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\test\\ventas.test.js&quot;,&quot;file&quot;:&quot;\\test\\ventas.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook for \&quot;GET /api/ventas debe retornar todas las ventas\&quot;&quot;,&quot;fullTitle&quot;:&quot;Ventas API Endpoints \&quot;before all\&quot; hook for \&quot;GET /api/ventas debe retornar todas las ventas\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:178,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpieza y reinicio de las tablas\nawait db.query(&#x27;TRUNCATE TABLE Ventas RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Empleados RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Usuarios RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Roles RESTART IDENTITY CASCADE&#x27;);\n// Insertar roles\nawait db.query(`\n  INSERT INTO Roles (tipo)\n  VALUES (&#x27;Administrador&#x27;), (&#x27;Vendedor&#x27;);\n`);\n// Insertar usuarios\nawait db.query(`\n  INSERT INTO Usuarios (nombre, correo, password, idRol)\n  VALUES\n  (&#x27;Eliezer Cerecedo&#x27;, &#x27;eliezercerecedo82@gmail.com&#x27;, &#x27;Bocchi17&#x27;, 1),\n  (&#x27;Juan Pablo&#x27;, &#x27;juanpablo@gmail.com&#x27;, &#x27;pablitin18&#x27;, 2);\n`);\n// Insertar empleados\nawait db.query(`\n  INSERT INTO Empleados (nombre, apPaterno, apMaterno, fechaNacimiento, curp, idUsuario)\n  VALUES\n  (&#x27;Eliezer Isai&#x27;, &#x27;Cerecedo&#x27;, &#x27;Florencia&#x27;, &#x27;2002-11-12&#x27;, &#x27;ABC123456XYZ789012&#x27;, 1),\n  (&#x27;Juan&#x27;, &#x27;Perez&#x27;, &#x27;Lopez&#x27;, &#x27;1985-07-20&#x27;, &#x27;DEF123456XYZ789012&#x27;, 2);\n`);\n// Insertar ventas (asegúrate de que idEmpleado corresponda a un id válido)\nawait db.query(`\n  INSERT INTO Ventas (fechaVenta, monto, idEmpleado)\n  VALUES (NOW(), 1000.50, 1), (NOW(), 500.75, 2);\n`);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\ventas.test.js:11:5)&quot;},&quot;uuid&quot;:&quot;afef46fb-2180-4e15-94c2-66a3153eea72&quot;,&quot;parentUUID&quot;:&quot;516302c4-8deb-4d06-a75a-dd3b229d33fe&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook for \&quot;GET /api/ventas/:folio debe retornar 404 para una venta inexistente\&quot;&quot;,&quot;fullTitle&quot;:&quot;Ventas API Endpoints \&quot;after all\&quot; hook for \&quot;GET /api/ventas/:folio debe retornar 404 para una venta inexistente\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:74,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpieza después de las pruebas\nawait db.query(&#x27;TRUNCATE TABLE Ventas RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Empleados RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Usuarios RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Roles RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�&quot;,&quot;estack&quot;:&quot;error: la autentificaci�n password fall� para el usuario �postgres�\n    at C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Context.&lt;anonymous&gt; (test\\ventas.test.js:47:5)&quot;},&quot;uuid&quot;:&quot;7d1b5440-82f5-4d97-ba63-92a7eb4de9be&quot;,&quot;parentUUID&quot;:&quot;516302c4-8deb-4d06-a75a-dd3b229d33fe&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/ventas debe retornar todas las ventas&quot;,&quot;fullTitle&quot;:&quot;Ventas API Endpoints GET /api/ventas debe retornar todas las ventas&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/ventas&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 2); // Verifica que hay dos ventas&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65cfa6ca-57e3-4316-9533-33dc778208c9&quot;,&quot;parentUUID&quot;:&quot;516302c4-8deb-4d06-a75a-dd3b229d33fe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/ventas/:folio debe retornar una venta por folio&quot;,&quot;fullTitle&quot;:&quot;Ventas API Endpoints GET /api/ventas/:folio debe retornar una venta por folio&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/ventas/1&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(res.body.folio, 1);\nassert.strictEqual(res.body.monto, 1000.50);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;50ca399b-ad19-4728-ad03-427391652924&quot;,&quot;parentUUID&quot;:&quot;516302c4-8deb-4d06-a75a-dd3b229d33fe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/ventas debe crear una nueva venta&quot;,&quot;fullTitle&quot;:&quot;Ventas API Endpoints POST /api/ventas debe crear una nueva venta&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newVenta = { monto: 700.25, idempleado: 2 }; // asegurarse de que los datos sean correctos\nconst res = await request(app).post(&#x27;/api/ventas&#x27;).send(newVenta);\nassert.strictEqual(res.status, 201); // Espera 201: Created\nassert.strictEqual(res.body.monto, 700.25); // Verifica el monto\nassert.strictEqual(res.body.idempleado, 2); // Verifica el id del empleado&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e1372f5-b80d-481d-96d3-03991f726412&quot;,&quot;parentUUID&quot;:&quot;516302c4-8deb-4d06-a75a-dd3b229d33fe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/ventas debe fallar si falta el campo monto&quot;,&quot;fullTitle&quot;:&quot;Ventas API Endpoints POST /api/ventas debe fallar si falta el campo monto&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const invalidVenta = { idEmpleado: 2 }; // Monto faltante\nconst res = await request(app).post(&#x27;/api/ventas&#x27;).send(invalidVenta);\nassert.strictEqual(res.status, 400); // Bad Request&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fef6ef35-15e2-4baf-8bb8-2bb1a64c0c1a&quot;,&quot;parentUUID&quot;:&quot;516302c4-8deb-4d06-a75a-dd3b229d33fe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;PUT /api/ventas/:folio debe actualizar una venta&quot;,&quot;fullTitle&quot;:&quot;Ventas API Endpoints PUT /api/ventas/:folio debe actualizar una venta&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedVenta = { monto: 1200.75, idempleado: 1 }; // asegurarse de que los datos sean correctos\nconst res = await request(app).put(&#x27;/api/ventas/1&#x27;).send(updatedVenta);\nassert.strictEqual(res.status, 200); // Espera 200: OK\nassert.strictEqual(res.body.monto, 1200.75); // Verifica el monto actualizado\nassert.strictEqual(res.body.idempleado, 1); // Verifica el id del empleado&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;166c0706-4a16-4ae0-a1cc-7266fe3993a1&quot;,&quot;parentUUID&quot;:&quot;516302c4-8deb-4d06-a75a-dd3b229d33fe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;DELETE /api/ventas/:folio debe eliminar una venta&quot;,&quot;fullTitle&quot;:&quot;Ventas API Endpoints DELETE /api/ventas/:folio debe eliminar una venta&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/ventas/1&#x27;);\nassert.strictEqual(res.status, 204); // No Content\n// Verificar que la venta fue eliminada\nconst getRes = await request(app).get(&#x27;/api/ventas/1&#x27;);\nassert.strictEqual(getRes.status, 404); // Venta no encontrada&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;52802df7-0fb4-41e7-b166-03f88d769e9e&quot;,&quot;parentUUID&quot;:&quot;516302c4-8deb-4d06-a75a-dd3b229d33fe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/ventas/:folio debe retornar 404 para una venta inexistente&quot;,&quot;fullTitle&quot;:&quot;Ventas API Endpoints GET /api/ventas/:folio debe retornar 404 para una venta inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/ventas/9999&#x27;); // Folio inexistente\nassert.strictEqual(res.status, 404); // No se encuentra la venta&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;452b180f-cbda-4642-93a8-85494f3342f3&quot;,&quot;parentUUID&quot;:&quot;516302c4-8deb-4d06-a75a-dd3b229d33fe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;65cfa6ca-57e3-4316-9533-33dc778208c9&quot;,&quot;50ca399b-ad19-4728-ad03-427391652924&quot;,&quot;6e1372f5-b80d-481d-96d3-03991f726412&quot;,&quot;fef6ef35-15e2-4baf-8bb8-2bb1a64c0c1a&quot;,&quot;166c0706-4a16-4ae0-a1cc-7266fe3993a1&quot;,&quot;52802df7-0fb4-41e7-b166-03f88d769e9e&quot;,&quot;452b180f-cbda-4642-93a8-85494f3342f3&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.8.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;Proyecto_Integrador-Pruebas_Unitarias&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\Oscar\\Desktop\\Pruebas_unitarias\\Proyecto_Integrador-Pruebas_Unitarias\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>