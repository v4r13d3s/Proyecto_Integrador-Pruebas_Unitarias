<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:12,&quot;tests&quot;:36,&quot;passes&quot;:6,&quot;pending&quot;:0,&quot;failures&quot;:30,&quot;start&quot;:&quot;2024-11-27T01:52:30.429Z&quot;,&quot;end&quot;:&quot;2024-11-27T01:53:31.959Z&quot;,&quot;duration&quot;:61530,&quot;testsRegistered&quot;:72,&quot;passPercent&quot;:8.333333333333332,&quot;pendingPercent&quot;:0,&quot;other&quot;:6,&quot;hasOther&quot;:true,&quot;skipped&quot;:36,&quot;hasSkipped&quot;:true},&quot;results&quot;:[{&quot;uuid&quot;:&quot;0c611ab6-39a5-4cb2-8d59-f0dad6bf4d89&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;after all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await db.end();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b53e0d1-d8e0-4aa7-b7b8-6c595299a70a&quot;,&quot;parentUUID&quot;:&quot;0c611ab6-39a5-4cb2-8d59-f0dad6bf4d89&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ac13ffb6-5ff4-4103-9a87-faf09debb239&quot;,&quot;title&quot;:&quot;Categorías API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\categorias.test.js&quot;,&quot;file&quot;:&quot;\\test\\categorias.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Categorías API Endpoints\&quot;&quot;,&quot;fullTitle&quot;:&quot;Categorías API Endpoints \&quot;before all\&quot; hook in \&quot;Categorías API Endpoints\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:378,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar los datos existentes en la tabla y establecer datos iniciales\nawait db.query(&#x27;TRUNCATE TABLE Categorias RESTART IDENTITY CASCADE&#x27;);\nawait db.query(\&quot;INSERT INTO Categorias (nombre, descripcion) VALUES (&#x27;General&#x27;, &#x27;Categoría general&#x27;)\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e581696-359d-41a9-8b12-145c1457dbfd&quot;,&quot;parentUUID&quot;:&quot;ac13ffb6-5ff4-4103-9a87-faf09debb239&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Categorías API Endpoints\&quot;&quot;,&quot;fullTitle&quot;:&quot;Categorías API Endpoints \&quot;after all\&quot; hook in \&quot;Categorías API Endpoints\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Restaurar el estado inicial de la tabla (sin cerrar la conexión, ya lo maneja el archivo global)\nawait db.query(&#x27;TRUNCATE TABLE Categorias RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2aa7344e-375d-4500-8f93-b055d8c76585&quot;,&quot;parentUUID&quot;:&quot;ac13ffb6-5ff4-4103-9a87-faf09debb239&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/categorias debe retornar todas las categorías&quot;,&quot;fullTitle&quot;:&quot;Categorías API Endpoints GET /api/categorias debe retornar todas las categorías&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/categorias&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a11de7d-cb84-4449-bd0d-e3898ce8d5ab&quot;,&quot;parentUUID&quot;:&quot;ac13ffb6-5ff4-4103-9a87-faf09debb239&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GET /api/categorias/:id debe retornar una categoría por ID&quot;,&quot;fullTitle&quot;:&quot;Categorías API Endpoints GET /api/categorias/:id debe retornar una categoría por ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/categorias/1&#x27;);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;nombre&#x27;));\nassert.strictEqual(res.body.nombre, &#x27;General&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8cb2b18a-e67a-4c93-9ea4-607b320588a2&quot;,&quot;parentUUID&quot;:&quot;ac13ffb6-5ff4-4103-9a87-faf09debb239&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;POST /api/categorias debe crear una nueva categoría&quot;,&quot;fullTitle&quot;:&quot;Categorías API Endpoints POST /api/categorias debe crear una nueva categoría&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newCategoria = { nombre: &#x27;Electronica&#x27;, descripcion: &#x27;Categoría relacionada con Electronica&#x27; };\nconst res = await request(app).post(&#x27;/api/categorias&#x27;).send(newCategoria);\nassert.strictEqual(res.status, 201);\nassert.ok(res.body.hasOwnProperty(&#x27;nombre&#x27;));\nassert.strictEqual(res.body.nombre, &#x27;Electronica&#x27;);\n// Verificar que la categoría se agregó\nconst allCategorias = await request(app).get(&#x27;/api/categorias&#x27;);\nassert.strictEqual(allCategorias.body.length, 2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb936c75-33c4-4f88-808a-72577f81a847&quot;,&quot;parentUUID&quot;:&quot;ac13ffb6-5ff4-4103-9a87-faf09debb239&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;PUT /api/categorias/:id debe actualizar una categoría&quot;,&quot;fullTitle&quot;:&quot;Categorías API Endpoints PUT /api/categorias/:id debe actualizar una categoría&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedCategoria = { nombre: &#x27;Papeleria&#x27;, descripcion: &#x27;Categoría relacionada con Papeleria&#x27; };\nconst res = await request(app).put(&#x27;/api/categorias/1&#x27;).send(updatedCategoria);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;nombre&#x27;));\nassert.strictEqual(res.body.nombre, &#x27;Papeleria&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;86471591-189f-4b15-88c5-7f03599b23a6&quot;,&quot;parentUUID&quot;:&quot;ac13ffb6-5ff4-4103-9a87-faf09debb239&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;DELETE /api/categorias/:id debe eliminar una categoría&quot;,&quot;fullTitle&quot;:&quot;Categorías API Endpoints DELETE /api/categorias/:id debe eliminar una categoría&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/categorias/1&#x27;);\nassert.strictEqual(res.status, 204);\n// Verificar que la categoría fue eliminada\nconst allCategorias = await request(app).get(&#x27;/api/categorias&#x27;);\nassert.strictEqual(allCategorias.body.length, 1); // La categoría eliminada ya no debería estar&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58d48c8d-8ff1-4fd8-8dfc-acaf2d9f71d1&quot;,&quot;parentUUID&quot;:&quot;ac13ffb6-5ff4-4103-9a87-faf09debb239&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GET /api/categorias/:id debe retornar 404 para categoría inexistente&quot;,&quot;fullTitle&quot;:&quot;Categorías API Endpoints GET /api/categorias/:id debe retornar 404 para categoría inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/categorias/9999&#x27;);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bbd4c600-c2cf-4abb-b2b0-296495b0be21&quot;,&quot;parentUUID&quot;:&quot;ac13ffb6-5ff4-4103-9a87-faf09debb239&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5a11de7d-cb84-4449-bd0d-e3898ce8d5ab&quot;,&quot;8cb2b18a-e67a-4c93-9ea4-607b320588a2&quot;,&quot;cb936c75-33c4-4f88-808a-72577f81a847&quot;,&quot;86471591-189f-4b15-88c5-7f03599b23a6&quot;,&quot;58d48c8d-8ff1-4fd8-8dfc-acaf2d9f71d1&quot;,&quot;bbd4c600-c2cf-4abb-b2b0-296495b0be21&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:85,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8a30d298-7bbe-43d4-8b70-725b181dbeb8&quot;,&quot;title&quot;:&quot;DetalleVentas API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\detalleVentas.test.js&quot;,&quot;file&quot;:&quot;\\test\\detalleVentas.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook for \&quot;GET /api/detalleVentas debe retornar todos los detalles de ventas\&quot;&quot;,&quot;fullTitle&quot;:&quot;DetalleVentas API Endpoints \&quot;before all\&quot; hook for \&quot;GET /api/detalleVentas debe retornar todos los detalles de ventas\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:39,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar las tablas y establecer datos iniciales\nawait db.query(&#x27;TRUNCATE TABLE DetalleVentas RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Productos RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Categorias RESTART IDENTITY CASCADE&#x27;);\n// Insertar categorías de ejemplo con nombre y descripcion\nawait db.query(\n  \&quot;INSERT INTO Categorias (idCategoria, nombre, descripcion) VALUES (1, &#x27;Electrónica&#x27;, &#x27;Categoría de productos electrónicos&#x27;)\&quot;\n);\nawait db.query(\n  \&quot;INSERT INTO Categorias (idCategoria, nombre, descripcion) VALUES (2, &#x27;Ropa&#x27;, &#x27;Categoría de ropa y vestimenta&#x27;)\&quot;\n);\n// Insertar productos con una categoría asignada\nawait db.query(\n  \&quot;INSERT INTO Productos (idProducto, nombre, precio, descripcion, stock, idCategoria) VALUES (101, &#x27;Producto A&#x27;, 450.0, &#x27;Descripción del producto A&#x27;, 100, 1)\&quot;\n);\nawait db.query(\n  \&quot;INSERT INTO Productos (idProducto, nombre, precio, descripcion, stock, idCategoria) VALUES (102, &#x27;Producto B&#x27;, 500.0, &#x27;Descripción del producto B&#x27;, 50, 2)\&quot;\n);\n// Insertar un detalle de ventas con productos existentes\nawait db.query(\n  \&quot;INSERT INTO DetalleVentas (folio, idProducto, cantidad, total) VALUES (1, 101, 2, 900)\&quot;\n);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: inserción o actualización en la tabla «detalleventas» viola la llave foránea «detalleventas_folio_fkey»&quot;,&quot;estack&quot;:&quot;error: inserción o actualización en la tabla «detalleventas» viola la llave foránea «detalleventas_folio_fkey»\n    at C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.&lt;anonymous&gt; (test\\detalleVentas.test.js:32:5)&quot;},&quot;uuid&quot;:&quot;da7e6ee5-8202-4a93-9049-a1bbe091f73c&quot;,&quot;parentUUID&quot;:&quot;8a30d298-7bbe-43d4-8b70-725b181dbeb8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;DetalleVentas API Endpoints\&quot;&quot;,&quot;fullTitle&quot;:&quot;DetalleVentas API Endpoints \&quot;after all\&quot; hook in \&quot;DetalleVentas API Endpoints\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:75,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Restaurar el estado inicial de las tablas (sin cerrar la conexión, ya lo maneja el archivo global)\nawait db.query(&#x27;TRUNCATE TABLE DetalleVentas RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Productos RESTART IDENTITY CASCADE&#x27;);\nawait db.query(&#x27;TRUNCATE TABLE Categorias RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8e936bf1-3df6-464e-b472-0f923295b69d&quot;,&quot;parentUUID&quot;:&quot;8a30d298-7bbe-43d4-8b70-725b181dbeb8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/detalleVentas debe retornar todos los detalles de ventas&quot;,&quot;fullTitle&quot;:&quot;DetalleVentas API Endpoints GET /api/detalleVentas debe retornar todos los detalles de ventas&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/detalleVentas&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;92a5ba5d-e6c3-491a-a97e-4eba17f32d7b&quot;,&quot;parentUUID&quot;:&quot;8a30d298-7bbe-43d4-8b70-725b181dbeb8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/detalleVentas/:folio/:idProducto debe retornar un detalle específico&quot;,&quot;fullTitle&quot;:&quot;DetalleVentas API Endpoints GET /api/detalleVentas/:folio/:idProducto debe retornar un detalle específico&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/detalleVentas/1/101&#x27;);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;cantidad&#x27;));\nassert.strictEqual(res.body.cantidad, 2);\nassert.ok(res.body.hasOwnProperty(&#x27;total&#x27;));\nassert.strictEqual(res.body.total, 900);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16055b5d-5755-4be0-b2da-2ee637ff250c&quot;,&quot;parentUUID&quot;:&quot;8a30d298-7bbe-43d4-8b70-725b181dbeb8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/detalleVentas debe crear un nuevo detalle de venta&quot;,&quot;fullTitle&quot;:&quot;DetalleVentas API Endpoints POST /api/detalleVentas debe crear un nuevo detalle de venta&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newDetalle = { folio: 2, idProducto: 102, cantidad: 3, total: 1350 };\nconst res = await request(app).post(&#x27;/api/detalleVentas&#x27;).send(newDetalle);\nassert.strictEqual(res.status, 201);\nassert.ok(res.body.hasOwnProperty(&#x27;folio&#x27;));\nassert.strictEqual(res.body.folio, 2);\n// Verificar que se agregó el nuevo detalle\nconst allDetalles = await request(app).get(&#x27;/api/detalleVentas&#x27;);\nassert.strictEqual(allDetalles.body.length, 2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7c473a7-0aa4-4a46-9b83-94024c6884ef&quot;,&quot;parentUUID&quot;:&quot;8a30d298-7bbe-43d4-8b70-725b181dbeb8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;PUT /api/detalleVentas/:folio/:idProducto debe actualizar un detalle&quot;,&quot;fullTitle&quot;:&quot;DetalleVentas API Endpoints PUT /api/detalleVentas/:folio/:idProducto debe actualizar un detalle&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedDetalle = { cantidad: 5, total: 2250 };\nconst res = await request(app).put(&#x27;/api/detalleVentas/1/101&#x27;).send(updatedDetalle);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;cantidad&#x27;));\nassert.strictEqual(res.body.cantidad, 5);\nassert.ok(res.body.hasOwnProperty(&#x27;total&#x27;));\nassert.strictEqual(res.body.total, 2250);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee259e80-6819-4216-863b-6e83409c0ba6&quot;,&quot;parentUUID&quot;:&quot;8a30d298-7bbe-43d4-8b70-725b181dbeb8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;DELETE /api/detalleVentas/:folio/:idProducto debe eliminar un detalle&quot;,&quot;fullTitle&quot;:&quot;DetalleVentas API Endpoints DELETE /api/detalleVentas/:folio/:idProducto debe eliminar un detalle&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/detalleVentas/1/101&#x27;);\nassert.strictEqual(res.status, 204);\n// Verificar que el detalle fue eliminado\nconst allDetalles = await request(app).get(&#x27;/api/detalleVentas&#x27;);\nassert.strictEqual(allDetalles.body.length, 1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a1226156-8b53-4a90-b46e-02e00a7f99f2&quot;,&quot;parentUUID&quot;:&quot;8a30d298-7bbe-43d4-8b70-725b181dbeb8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/detalleVentas/:folio/:idProducto debe retornar 404 para un detalle inexistente&quot;,&quot;fullTitle&quot;:&quot;DetalleVentas API Endpoints GET /api/detalleVentas/:folio/:idProducto debe retornar 404 para un detalle inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/detalleVentas/9999/9999&#x27;);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b68ca01-7990-4da6-bc34-30bef26978c9&quot;,&quot;parentUUID&quot;:&quot;8a30d298-7bbe-43d4-8b70-725b181dbeb8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;92a5ba5d-e6c3-491a-a97e-4eba17f32d7b&quot;,&quot;16055b5d-5755-4be0-b2da-2ee637ff250c&quot;,&quot;d7c473a7-0aa4-4a46-9b83-94024c6884ef&quot;,&quot;ee259e80-6819-4216-863b-6e83409c0ba6&quot;,&quot;a1226156-8b53-4a90-b46e-02e00a7f99f2&quot;,&quot;9b68ca01-7990-4da6-bc34-30bef26978c9&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c9eac2dc-3b22-4301-9a2e-f33b6322d0de&quot;,&quot;title&quot;:&quot;Empleados API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\empleados.test.js&quot;,&quot;file&quot;:&quot;\\test\\empleados.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Empleados API Endpoints\&quot;&quot;,&quot;fullTitle&quot;:&quot;Empleados API Endpoints \&quot;before all\&quot; hook in \&quot;Empleados API Endpoints\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar la tabla empleados y agregar datos iniciales\nawait db.query(&#x27;TRUNCATE TABLE empleados RESTART IDENTITY CASCADE&#x27;);\nawait db.query(\n  \&quot;INSERT INTO empleados (nombre, appaterno, apmaterno, fechanacimiento, curp, idusuario) VALUES (&#x27;Juan&#x27;, &#x27;Pérez&#x27;, &#x27;López&#x27;, &#x27;1990-01-01&#x27;, &#x27;CURP123456HDFRLL01&#x27;, 1)\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5da81a9f-d92e-4f9c-8c27-ed56b9f9a55b&quot;,&quot;parentUUID&quot;:&quot;c9eac2dc-3b22-4301-9a2e-f33b6322d0de&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Empleados API Endpoints\&quot;&quot;,&quot;fullTitle&quot;:&quot;Empleados API Endpoints \&quot;after all\&quot; hook in \&quot;Empleados API Endpoints\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar la tabla después de las pruebas\nawait db.query(&#x27;TRUNCATE TABLE empleados RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;110baaed-7975-45c5-8c05-b43b3f0d9e3a&quot;,&quot;parentUUID&quot;:&quot;c9eac2dc-3b22-4301-9a2e-f33b6322d0de&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/empleados debe retornar todos los empleados&quot;,&quot;fullTitle&quot;:&quot;Empleados API Endpoints GET /api/empleados debe retornar todos los empleados&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2008,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/empleados&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 1);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\empleados.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\empleados.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;0fbca39c-1f60-419d-8b7b-8c8c58b66bf6&quot;,&quot;parentUUID&quot;:&quot;c9eac2dc-3b22-4301-9a2e-f33b6322d0de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GET /api/empleados/:id debe retornar un empleado por ID&quot;,&quot;fullTitle&quot;:&quot;Empleados API Endpoints GET /api/empleados/:id debe retornar un empleado por ID&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2005,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/empleados/1&#x27;);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;nombre&#x27;));\nassert.strictEqual(res.body.nombre, &#x27;Juan&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\empleados.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\empleados.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;fb481804-65cd-42ce-ba2c-51755ca21f24&quot;,&quot;parentUUID&quot;:&quot;c9eac2dc-3b22-4301-9a2e-f33b6322d0de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;POST /api/empleados debe crear un nuevo empleado&quot;,&quot;fullTitle&quot;:&quot;Empleados API Endpoints POST /api/empleados debe crear un nuevo empleado&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2005,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newEmpleado = {\n  nombre: &#x27;Ana&#x27;,\n  appaterno: &#x27;Martínez&#x27;,\n  apmaterno: &#x27;García&#x27;,\n  fechanacimiento: &#x27;1985-05-15&#x27;,\n  curp: &#x27;CURP456789GDFANA02&#x27;,\n  idusuario: 2\n};\nconst res = await request(app).post(&#x27;/api/empleados&#x27;).send(newEmpleado);\nassert.strictEqual(res.status, 201);\nassert.ok(res.body.hasOwnProperty(&#x27;nombre&#x27;));\nassert.strictEqual(res.body.nombre, &#x27;Ana&#x27;);\n// Verificar que se agregó correctamente\nconst allEmpleados = await request(app).get(&#x27;/api/empleados&#x27;);\nassert.strictEqual(allEmpleados.body.length, 2);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\empleados.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\empleados.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;febdfe45-e9ab-4632-ac1f-7bf5ad4da643&quot;,&quot;parentUUID&quot;:&quot;c9eac2dc-3b22-4301-9a2e-f33b6322d0de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;PUT /api/empleados/:id debe actualizar un empleado&quot;,&quot;fullTitle&quot;:&quot;Empleados API Endpoints PUT /api/empleados/:id debe actualizar un empleado&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2015,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedEmpleado = {\n  nombre: &#x27;Carlos&#x27;,\n  appaterno: &#x27;Hernández&#x27;,\n  apmaterno: &#x27;Ruiz&#x27;,\n  fechanacimiento: &#x27;1980-10-10&#x27;,\n  curp: &#x27;CURP654321CDFCRL03&#x27;,\n  idusuario: 3\n};\nconst res = await request(app).put(&#x27;/api/empleados/1&#x27;).send(updatedEmpleado);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;nombre&#x27;));\nassert.strictEqual(res.body.nombre, &#x27;Carlos&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\empleados.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\empleados.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;3dfe5db4-3d77-496d-8e2a-2ac13864f063&quot;,&quot;parentUUID&quot;:&quot;c9eac2dc-3b22-4301-9a2e-f33b6322d0de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;DELETE /api/empleados/:id debe eliminar un empleado&quot;,&quot;fullTitle&quot;:&quot;Empleados API Endpoints DELETE /api/empleados/:id debe eliminar un empleado&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2007,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/empleados/1&#x27;);\nassert.strictEqual(res.status, 204);\n// Verificar que el empleado fue eliminado\nconst allEmpleados = await request(app).get(&#x27;/api/empleados&#x27;);\nassert.strictEqual(allEmpleados.body.length, 1);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\empleados.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\empleados.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;530b7306-89a1-4bac-b639-0b30ee130271&quot;,&quot;parentUUID&quot;:&quot;c9eac2dc-3b22-4301-9a2e-f33b6322d0de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GET /api/empleados/:id debe retornar 404 para un empleado inexistente&quot;,&quot;fullTitle&quot;:&quot;Empleados API Endpoints GET /api/empleados/:id debe retornar 404 para un empleado inexistente&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2005,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/empleados/9999&#x27;);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\empleados.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\empleados.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;adb7a034-5947-4396-bd04-ad3d44d7361b&quot;,&quot;parentUUID&quot;:&quot;c9eac2dc-3b22-4301-9a2e-f33b6322d0de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;0fbca39c-1f60-419d-8b7b-8c8c58b66bf6&quot;,&quot;fb481804-65cd-42ce-ba2c-51755ca21f24&quot;,&quot;febdfe45-e9ab-4632-ac1f-7bf5ad4da643&quot;,&quot;3dfe5db4-3d77-496d-8e2a-2ac13864f063&quot;,&quot;530b7306-89a1-4bac-b639-0b30ee130271&quot;,&quot;adb7a034-5947-4396-bd04-ad3d44d7361b&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12045,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2858721c-5ffe-4e74-952c-c988b65478c4&quot;,&quot;title&quot;:&quot;Métodos de Venta API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\metodoVenta.test.js&quot;,&quot;file&quot;:&quot;\\test\\metodoVenta.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Métodos de Venta API Endpoints\&quot;&quot;,&quot;fullTitle&quot;:&quot;Métodos de Venta API Endpoints \&quot;before all\&quot; hook in \&quot;Métodos de Venta API Endpoints\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar la tabla y agregar datos iniciales\nawait db.query(&#x27;TRUNCATE TABLE MetodoVenta RESTART IDENTITY CASCADE&#x27;);\nawait db.query(\n  \&quot;INSERT INTO MetodoVenta (idTipoPago, descripcion, comision, fecha_creacion, activo) VALUES (1, &#x27;Tarjeta de Crédito&#x27;, 2.5, NOW(), true)\&quot;\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb074f8d-fed8-4a03-9554-7c7362390cb8&quot;,&quot;parentUUID&quot;:&quot;2858721c-5ffe-4e74-952c-c988b65478c4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Métodos de Venta API Endpoints\&quot;&quot;,&quot;fullTitle&quot;:&quot;Métodos de Venta API Endpoints \&quot;after all\&quot; hook in \&quot;Métodos de Venta API Endpoints\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar la tabla después de las pruebas\nawait db.query(&#x27;TRUNCATE TABLE MetodoVenta RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e79edec-0c63-4ee5-959e-083dc8016ee6&quot;,&quot;parentUUID&quot;:&quot;2858721c-5ffe-4e74-952c-c988b65478c4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/metodoVenta debe retornar todos los métodos de venta&quot;,&quot;fullTitle&quot;:&quot;Métodos de Venta API Endpoints GET /api/metodoVenta debe retornar todos los métodos de venta&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2004,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/metodoVenta&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 1);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\metodoVenta.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\metodoVenta.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;4e216c79-1cd6-4e89-858e-80c4ba8c60c8&quot;,&quot;parentUUID&quot;:&quot;2858721c-5ffe-4e74-952c-c988b65478c4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GET /api/metodoVenta/:id debe retornar un método de venta por ID&quot;,&quot;fullTitle&quot;:&quot;Métodos de Venta API Endpoints GET /api/metodoVenta/:id debe retornar un método de venta por ID&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2003,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/metodoVenta/1&#x27;);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;descripcion&#x27;));\nassert.strictEqual(res.body.descripcion, &#x27;Tarjeta de Crédito&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\metodoVenta.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\metodoVenta.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;ca5d3259-6055-4e67-95e8-2b0b03b9c4a0&quot;,&quot;parentUUID&quot;:&quot;2858721c-5ffe-4e74-952c-c988b65478c4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;POST /api/metodoVenta debe crear un nuevo método de venta&quot;,&quot;fullTitle&quot;:&quot;Métodos de Venta API Endpoints POST /api/metodoVenta debe crear un nuevo método de venta&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2002,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newMetodoVenta = {\n  idTipoPago: 2,\n  descripcion: &#x27;PayPal&#x27;,\n  comision: 3.0,\n  activo: true\n};\nconst res = await request(app).post(&#x27;/api/metodoVenta&#x27;).send(newMetodoVenta);\nassert.strictEqual(res.status, 201);\nassert.ok(res.body.hasOwnProperty(&#x27;descripcion&#x27;));\nassert.strictEqual(res.body.descripcion, &#x27;PayPal&#x27;);\n// Verificar que se agregó correctamente\nconst allMetodoVenta = await request(app).get(&#x27;/api/metodoVenta&#x27;);\nassert.strictEqual(allMetodoVenta.body.length, 2);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\metodoVenta.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\metodoVenta.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;b03a9663-ef3e-416b-afd9-bca7c6b13776&quot;,&quot;parentUUID&quot;:&quot;2858721c-5ffe-4e74-952c-c988b65478c4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;PUT /api/metodoVenta/:id debe actualizar un método de venta&quot;,&quot;fullTitle&quot;:&quot;Métodos de Venta API Endpoints PUT /api/metodoVenta/:id debe actualizar un método de venta&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2013,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedMetodoVenta = {\n  idTipoPago: 3,\n  descripcion: &#x27;Pago en Efectivo&#x27;,\n  comision: 0,\n  activo: false\n};\nconst res = await request(app).put(&#x27;/api/metodoVenta/1&#x27;).send(updatedMetodoVenta);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;descripcion&#x27;));\nassert.strictEqual(res.body.descripcion, &#x27;Pago en Efectivo&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\metodoVenta.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\metodoVenta.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;1f0793c0-6795-459e-878e-69c492d8517e&quot;,&quot;parentUUID&quot;:&quot;2858721c-5ffe-4e74-952c-c988b65478c4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;DELETE /api/metodoVenta/:id debe eliminar un método de venta&quot;,&quot;fullTitle&quot;:&quot;Métodos de Venta API Endpoints DELETE /api/metodoVenta/:id debe eliminar un método de venta&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2002,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/metodoVenta/1&#x27;);\nassert.strictEqual(res.status, 204);\n// Verificar que el método de venta fue eliminado\nconst allMetodoVenta = await request(app).get(&#x27;/api/metodoVenta&#x27;);\nassert.strictEqual(allMetodoVenta.body.length, 1);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\metodoVenta.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\metodoVenta.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;ed1fbf1e-e4f3-4849-ab45-fb483aafc3a1&quot;,&quot;parentUUID&quot;:&quot;2858721c-5ffe-4e74-952c-c988b65478c4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GET /api/metodoVenta/:id debe retornar 404 para un método de venta inexistente&quot;,&quot;fullTitle&quot;:&quot;Métodos de Venta API Endpoints GET /api/metodoVenta/:id debe retornar 404 para un método de venta inexistente&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2015,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/metodoVenta/9999&#x27;);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\metodoVenta.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\metodoVenta.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;f1872586-0ce8-40dd-ae51-ffda1948b566&quot;,&quot;parentUUID&quot;:&quot;2858721c-5ffe-4e74-952c-c988b65478c4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;4e216c79-1cd6-4e89-858e-80c4ba8c60c8&quot;,&quot;ca5d3259-6055-4e67-95e8-2b0b03b9c4a0&quot;,&quot;b03a9663-ef3e-416b-afd9-bca7c6b13776&quot;,&quot;1f0793c0-6795-459e-878e-69c492d8517e&quot;,&quot;ed1fbf1e-e4f3-4849-ab45-fb483aafc3a1&quot;,&quot;f1872586-0ce8-40dd-ae51-ffda1948b566&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12039,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4477f425-cf84-482c-8266-3dae88926176&quot;,&quot;title&quot;:&quot;PedidoDetalles API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\pedidoDetalles.test.js&quot;,&quot;file&quot;:&quot;\\test\\pedidoDetalles.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook for \&quot;GET /api/pedidoDetalles debe retornar todos los detalles de pedidos\&quot;&quot;,&quot;fullTitle&quot;:&quot;PedidoDetalles API Endpoints \&quot;before all\&quot; hook for \&quot;GET /api/pedidoDetalles debe retornar todos los detalles de pedidos\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar la tabla y agregar datos iniciales\nawait db.query(&#x27;TRUNCATE TABLE PedidoDetalles RESTART IDENTITY CASCADE&#x27;);\nawait db.query(\&quot;INSERT INTO PedidoDetalles (idPedido, idProducto, cantidad) VALUES (1, 101, 5)\&quot;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: inserción o actualización en la tabla «pedidodetalles» viola la llave foránea «pedidodetalles_idpedido_fkey»&quot;,&quot;estack&quot;:&quot;error: inserción o actualización en la tabla «pedidodetalles» viola la llave foránea «pedidodetalles_idpedido_fkey»\n    at C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.&lt;anonymous&gt; (test\\pedidoDetalles.test.js:13:5)&quot;},&quot;uuid&quot;:&quot;f76eacdd-71a1-41b4-90a5-c480454ac141&quot;,&quot;parentUUID&quot;:&quot;4477f425-cf84-482c-8266-3dae88926176&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;PedidoDetalles API Endpoints\&quot;&quot;,&quot;fullTitle&quot;:&quot;PedidoDetalles API Endpoints \&quot;after all\&quot; hook in \&quot;PedidoDetalles API Endpoints\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:39,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar la tabla después de las pruebas\nawait db.query(&#x27;TRUNCATE TABLE PedidoDetalles RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bc8f9ee8-0950-4d62-b6cc-6e2d863c69b8&quot;,&quot;parentUUID&quot;:&quot;4477f425-cf84-482c-8266-3dae88926176&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/pedidoDetalles debe retornar todos los detalles de pedidos&quot;,&quot;fullTitle&quot;:&quot;PedidoDetalles API Endpoints GET /api/pedidoDetalles debe retornar todos los detalles de pedidos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/pedidoDetalles&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3ce9cfe-78cc-4e4d-801e-e8523125ced5&quot;,&quot;parentUUID&quot;:&quot;4477f425-cf84-482c-8266-3dae88926176&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/pedidoDetalles/:idPedido/:idProducto debe retornar un detalle por ID&quot;,&quot;fullTitle&quot;:&quot;PedidoDetalles API Endpoints GET /api/pedidoDetalles/:idPedido/:idProducto debe retornar un detalle por ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/pedidoDetalles/1/101&#x27;);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;cantidad&#x27;));\nassert.strictEqual(res.body.cantidad, 5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;17b5951b-5d36-405d-8b3e-d3ba25f89db8&quot;,&quot;parentUUID&quot;:&quot;4477f425-cf84-482c-8266-3dae88926176&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/pedidoDetalles debe crear un nuevo detalle de pedido&quot;,&quot;fullTitle&quot;:&quot;PedidoDetalles API Endpoints POST /api/pedidoDetalles debe crear un nuevo detalle de pedido&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newDetalle = { idPedido: 2, idProducto: 202, cantidad: 3 };\nconst res = await request(app).post(&#x27;/api/pedidoDetalles&#x27;).send(newDetalle);\nassert.strictEqual(res.status, 201);\nassert.ok(res.body.hasOwnProperty(&#x27;idPedido&#x27;));\nassert.strictEqual(res.body.idPedido, 2);\n// Verificar que se agregó correctamente\nconst allDetalles = await request(app).get(&#x27;/api/pedidoDetalles&#x27;);\nassert.strictEqual(allDetalles.body.length, 2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8e960dd5-d197-4acb-8e02-3d3c6de64c39&quot;,&quot;parentUUID&quot;:&quot;4477f425-cf84-482c-8266-3dae88926176&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;PUT /api/pedidoDetalles/:idPedido/:idProducto debe actualizar un detalle de pedido&quot;,&quot;fullTitle&quot;:&quot;PedidoDetalles API Endpoints PUT /api/pedidoDetalles/:idPedido/:idProducto debe actualizar un detalle de pedido&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedDetalle = { cantidad: 10 };\nconst res = await request(app).put(&#x27;/api/pedidoDetalles/1/101&#x27;).send(updatedDetalle);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;cantidad&#x27;));\nassert.strictEqual(res.body.cantidad, 10);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e1593ce-c8ac-4e0d-b0f1-9d9168dfe7d9&quot;,&quot;parentUUID&quot;:&quot;4477f425-cf84-482c-8266-3dae88926176&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;DELETE /api/pedidoDetalles/:idPedido/:idProducto debe eliminar un detalle de pedido&quot;,&quot;fullTitle&quot;:&quot;PedidoDetalles API Endpoints DELETE /api/pedidoDetalles/:idPedido/:idProducto debe eliminar un detalle de pedido&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/pedidoDetalles/1/101&#x27;);\nassert.strictEqual(res.status, 204);\n// Verificar que el detalle fue eliminado\nconst allDetalles = await request(app).get(&#x27;/api/pedidoDetalles&#x27;);\nassert.strictEqual(allDetalles.body.length, 1); // Queda solo 1 detalle&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;40876e14-3ebc-4847-a373-de3462f5421f&quot;,&quot;parentUUID&quot;:&quot;4477f425-cf84-482c-8266-3dae88926176&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/pedidoDetalles/:idPedido/:idProducto debe retornar 404 para un detalle inexistente&quot;,&quot;fullTitle&quot;:&quot;PedidoDetalles API Endpoints GET /api/pedidoDetalles/:idPedido/:idProducto debe retornar 404 para un detalle inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/pedidoDetalles/9999/9999&#x27;);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6e93fb2-0e06-43ad-b707-371e1c0fe37a&quot;,&quot;parentUUID&quot;:&quot;4477f425-cf84-482c-8266-3dae88926176&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;b3ce9cfe-78cc-4e4d-801e-e8523125ced5&quot;,&quot;17b5951b-5d36-405d-8b3e-d3ba25f89db8&quot;,&quot;8e960dd5-d197-4acb-8e02-3d3c6de64c39&quot;,&quot;4e1593ce-c8ac-4e0d-b0f1-9d9168dfe7d9&quot;,&quot;40876e14-3ebc-4847-a373-de3462f5421f&quot;,&quot;e6e93fb2-0e06-43ad-b707-371e1c0fe37a&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3df4bfb0-94af-4567-a4a7-8ead99cc1550&quot;,&quot;title&quot;:&quot;Pedidos API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\pedidos.test.js&quot;,&quot;file&quot;:&quot;\\test\\pedidos.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook for \&quot;GET /api/pedidos debe retornar todos los pedidos\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pedidos API Endpoints \&quot;before all\&quot; hook for \&quot;GET /api/pedidos debe retornar todos los pedidos\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar la tabla y agregar datos iniciales\nawait db.query(&#x27;TRUNCATE TABLE Pedidos RESTART IDENTITY CASCADE&#x27;);\nawait db.query(\&quot;INSERT INTO Pedidos (total, estado, fechaPedido, idMetodoV, idProveedor) VALUES (1000, &#x27;Pendiente&#x27;, NOW(), 1, 1)\&quot;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: inserción o actualización en la tabla «pedidos» viola la llave foránea «pedidos_idmetodov_fkey»&quot;,&quot;estack&quot;:&quot;error: inserción o actualización en la tabla «pedidos» viola la llave foránea «pedidos_idmetodov_fkey»\n    at C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.&lt;anonymous&gt; (test\\pedidos.test.js:13:5)&quot;},&quot;uuid&quot;:&quot;c52aa707-a11c-4683-8c28-bf2cb55153f0&quot;,&quot;parentUUID&quot;:&quot;3df4bfb0-94af-4567-a4a7-8ead99cc1550&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Pedidos API Endpoints\&quot;&quot;,&quot;fullTitle&quot;:&quot;Pedidos API Endpoints \&quot;after all\&quot; hook in \&quot;Pedidos API Endpoints\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:41,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar la tabla después de las pruebas\nawait db.query(&#x27;TRUNCATE TABLE Pedidos RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e70ba2a-415e-4ec1-8fbe-2071af7b3f23&quot;,&quot;parentUUID&quot;:&quot;3df4bfb0-94af-4567-a4a7-8ead99cc1550&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/pedidos debe retornar todos los pedidos&quot;,&quot;fullTitle&quot;:&quot;Pedidos API Endpoints GET /api/pedidos debe retornar todos los pedidos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/pedidos&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b36b74c6-aa91-493c-87c9-c10eae3e13ab&quot;,&quot;parentUUID&quot;:&quot;3df4bfb0-94af-4567-a4a7-8ead99cc1550&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/pedidos/:id debe retornar un pedido por ID&quot;,&quot;fullTitle&quot;:&quot;Pedidos API Endpoints GET /api/pedidos/:id debe retornar un pedido por ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/pedidos/1&#x27;);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;total&#x27;));\nassert.strictEqual(res.body.total, 1000);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18e895dd-e039-4fdf-b14f-59c0c18fde22&quot;,&quot;parentUUID&quot;:&quot;3df4bfb0-94af-4567-a4a7-8ead99cc1550&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/pedidos debe crear un nuevo pedido&quot;,&quot;fullTitle&quot;:&quot;Pedidos API Endpoints POST /api/pedidos debe crear un nuevo pedido&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newPedido = {\n  total: 500,\n  estado: &#x27;En Proceso&#x27;,\n  idMetodoV: 2,\n  idProveedor: 3\n};\nconst res = await request(app).post(&#x27;/api/pedidos&#x27;).send(newPedido);\nassert.strictEqual(res.status, 201);\nassert.ok(res.body.hasOwnProperty(&#x27;total&#x27;));\nassert.strictEqual(res.body.total, 500);\n// Verificar que se agregó correctamente\nconst allPedidos = await request(app).get(&#x27;/api/pedidos&#x27;);\nassert.strictEqual(allPedidos.body.length, 2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;114870e9-d5e8-4499-8ee1-8e001f83c6e1&quot;,&quot;parentUUID&quot;:&quot;3df4bfb0-94af-4567-a4a7-8ead99cc1550&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;PUT /api/pedidos/:id debe actualizar un pedido&quot;,&quot;fullTitle&quot;:&quot;Pedidos API Endpoints PUT /api/pedidos/:id debe actualizar un pedido&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedPedido = {\n  total: 1200,\n  estado: &#x27;Completado&#x27;,\n  fechaPedido: &#x27;2024-11-30&#x27;,\n  idMetodoV: 3,\n  idProveedor: 2\n};\nconst res = await request(app).put(&#x27;/api/pedidos/1&#x27;).send(updatedPedido);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;estado&#x27;));\nassert.strictEqual(res.body.estado, &#x27;Completado&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;476ad354-4c56-433f-918c-015147861bfb&quot;,&quot;parentUUID&quot;:&quot;3df4bfb0-94af-4567-a4a7-8ead99cc1550&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;DELETE /api/pedidos/:id debe eliminar un pedido&quot;,&quot;fullTitle&quot;:&quot;Pedidos API Endpoints DELETE /api/pedidos/:id debe eliminar un pedido&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/pedidos/1&#x27;);\nassert.strictEqual(res.status, 204);\n// Verificar que el pedido fue eliminado\nconst allPedidos = await request(app).get(&#x27;/api/pedidos&#x27;);\nassert.strictEqual(allPedidos.body.length, 1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d188032a-192a-442f-9e17-e2aa9f49328e&quot;,&quot;parentUUID&quot;:&quot;3df4bfb0-94af-4567-a4a7-8ead99cc1550&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/pedidos/:id debe retornar 404 para un pedido inexistente&quot;,&quot;fullTitle&quot;:&quot;Pedidos API Endpoints GET /api/pedidos/:id debe retornar 404 para un pedido inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/pedidos/9999&#x27;);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;02b89d16-7bb1-4719-a8e0-24150e60d702&quot;,&quot;parentUUID&quot;:&quot;3df4bfb0-94af-4567-a4a7-8ead99cc1550&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;b36b74c6-aa91-493c-87c9-c10eae3e13ab&quot;,&quot;18e895dd-e039-4fdf-b14f-59c0c18fde22&quot;,&quot;114870e9-d5e8-4499-8ee1-8e001f83c6e1&quot;,&quot;476ad354-4c56-433f-918c-015147861bfb&quot;,&quot;d188032a-192a-442f-9e17-e2aa9f49328e&quot;,&quot;02b89d16-7bb1-4719-a8e0-24150e60d702&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;322522a0-7a48-4553-9f6c-5bcf22ead7f3&quot;,&quot;title&quot;:&quot;Productos API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\productos.test.js&quot;,&quot;file&quot;:&quot;\\test\\productos.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook for \&quot;GET /api/productos debe retornar todos los productos\&quot;&quot;,&quot;fullTitle&quot;:&quot;Productos API Endpoints \&quot;before all\&quot; hook for \&quot;GET /api/productos debe retornar todos los productos\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar la tabla y agregar datos iniciales\nawait db.query(&#x27;TRUNCATE TABLE Productos RESTART IDENTITY CASCADE&#x27;);\nawait db.query(\&quot;INSERT INTO Productos (nombre, descripcion, precio, stock, idcategoria) VALUES (&#x27;Laptop&#x27;, &#x27;Portátil de alto rendimiento&#x27;, 1500, 10, 1)\&quot;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: inserción o actualización en la tabla «productos» viola la llave foránea «productos_idcategoria_fkey»&quot;,&quot;estack&quot;:&quot;error: inserción o actualización en la tabla «productos» viola la llave foránea «productos_idcategoria_fkey»\n    at C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.&lt;anonymous&gt; (test\\productos.test.js:13:5)&quot;},&quot;uuid&quot;:&quot;bb9a30f4-e742-41fd-9a93-eb89dedf3156&quot;,&quot;parentUUID&quot;:&quot;322522a0-7a48-4553-9f6c-5bcf22ead7f3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Productos API Endpoints\&quot;&quot;,&quot;fullTitle&quot;:&quot;Productos API Endpoints \&quot;after all\&quot; hook in \&quot;Productos API Endpoints\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:43,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar la tabla después de las pruebas\nawait db.query(&#x27;TRUNCATE TABLE Productos RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa94e239-b08e-4ea0-8459-4e789f988b5a&quot;,&quot;parentUUID&quot;:&quot;322522a0-7a48-4553-9f6c-5bcf22ead7f3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/productos debe retornar todos los productos&quot;,&quot;fullTitle&quot;:&quot;Productos API Endpoints GET /api/productos debe retornar todos los productos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/productos&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af10e401-6783-4639-940d-04a9448023bd&quot;,&quot;parentUUID&quot;:&quot;322522a0-7a48-4553-9f6c-5bcf22ead7f3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/productos/:id debe retornar un producto por ID&quot;,&quot;fullTitle&quot;:&quot;Productos API Endpoints GET /api/productos/:id debe retornar un producto por ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/productos/1&#x27;);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;nombre&#x27;));\nassert.strictEqual(res.body.nombre, &#x27;Laptop&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;08dc246b-6781-4e29-aed8-579ec954ee67&quot;,&quot;parentUUID&quot;:&quot;322522a0-7a48-4553-9f6c-5bcf22ead7f3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/productos debe crear un nuevo producto&quot;,&quot;fullTitle&quot;:&quot;Productos API Endpoints POST /api/productos debe crear un nuevo producto&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newProducto = {\n  nombre: &#x27;Mouse&#x27;,\n  descripcion: &#x27;Mouse inalámbrico&#x27;,\n  precio: 20,\n  stock: 50,\n  idcategoria: 2\n};\nconst res = await request(app).post(&#x27;/api/productos&#x27;).send(newProducto);\nassert.strictEqual(res.status, 201);\nassert.ok(res.body.hasOwnProperty(&#x27;nombre&#x27;));\nassert.strictEqual(res.body.nombre, &#x27;Mouse&#x27;);\n// Verificar que se agregó correctamente\nconst allProductos = await request(app).get(&#x27;/api/productos&#x27;);\nassert.strictEqual(allProductos.body.length, 2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;84cd3072-8203-4701-b53d-ac88618dcc32&quot;,&quot;parentUUID&quot;:&quot;322522a0-7a48-4553-9f6c-5bcf22ead7f3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;PUT /api/productos/:id debe actualizar un producto&quot;,&quot;fullTitle&quot;:&quot;Productos API Endpoints PUT /api/productos/:id debe actualizar un producto&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedProducto = {\n  nombre: &#x27;Laptop Gamer&#x27;,\n  descripcion: &#x27;Portátil con tarjeta gráfica potente&#x27;,\n  precio: 1800,\n  stock: 8,\n  idcategoria: 1\n};\nconst res = await request(app).put(&#x27;/api/productos/1&#x27;).send(updatedProducto);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;nombre&#x27;));\nassert.strictEqual(res.body.nombre, &#x27;Laptop Gamer&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81b2288b-715c-404e-a2d6-85598e770a9e&quot;,&quot;parentUUID&quot;:&quot;322522a0-7a48-4553-9f6c-5bcf22ead7f3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;DELETE /api/productos/:id debe eliminar un producto&quot;,&quot;fullTitle&quot;:&quot;Productos API Endpoints DELETE /api/productos/:id debe eliminar un producto&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/productos/1&#x27;);\nassert.strictEqual(res.status, 204);\n// Verificar que el producto fue eliminado\nconst allProductos = await request(app).get(&#x27;/api/productos&#x27;);\nassert.strictEqual(allProductos.body.length, 1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dad48114-0337-4484-81ee-16032dec5867&quot;,&quot;parentUUID&quot;:&quot;322522a0-7a48-4553-9f6c-5bcf22ead7f3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/productos/:id debe retornar 404 para un producto inexistente&quot;,&quot;fullTitle&quot;:&quot;Productos API Endpoints GET /api/productos/:id debe retornar 404 para un producto inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/productos/9999&#x27;);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4459cb32-5f17-4014-8a79-4212b8f4e877&quot;,&quot;parentUUID&quot;:&quot;322522a0-7a48-4553-9f6c-5bcf22ead7f3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;af10e401-6783-4639-940d-04a9448023bd&quot;,&quot;08dc246b-6781-4e29-aed8-579ec954ee67&quot;,&quot;84cd3072-8203-4701-b53d-ac88618dcc32&quot;,&quot;81b2288b-715c-404e-a2d6-85598e770a9e&quot;,&quot;dad48114-0337-4484-81ee-16032dec5867&quot;,&quot;4459cb32-5f17-4014-8a79-4212b8f4e877&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6eb7764a-8a67-4c8b-8c7c-381cb8486f3b&quot;,&quot;title&quot;:&quot;Proveedores API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\proveedores.test.js&quot;,&quot;file&quot;:&quot;\\test\\proveedores.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Proveedores API Endpoints\&quot;&quot;,&quot;fullTitle&quot;:&quot;Proveedores API Endpoints \&quot;before all\&quot; hook in \&quot;Proveedores API Endpoints\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar la tabla y agregar datos iniciales\nawait db.query(&#x27;TRUNCATE TABLE Proveedores RESTART IDENTITY CASCADE&#x27;);\nawait db.query(\&quot;INSERT INTO Proveedores (nombre, direccion, rfc, telefono) VALUES (&#x27;Proveedor A&#x27;, &#x27;Calle 1, Ciudad&#x27;, &#x27;RFC12345A&#x27;, &#x27;5555555555&#x27;)\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a23dbe9-4ec2-4fdd-a301-fe1b294e4f6b&quot;,&quot;parentUUID&quot;:&quot;6eb7764a-8a67-4c8b-8c7c-381cb8486f3b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Proveedores API Endpoints\&quot;&quot;,&quot;fullTitle&quot;:&quot;Proveedores API Endpoints \&quot;after all\&quot; hook in \&quot;Proveedores API Endpoints\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar la tabla después de las pruebas\nawait db.query(&#x27;TRUNCATE TABLE Proveedores RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4382a2a4-858b-4f0c-bd82-763de4b72e14&quot;,&quot;parentUUID&quot;:&quot;6eb7764a-8a67-4c8b-8c7c-381cb8486f3b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/proveedores debe retornar todos los proveedores&quot;,&quot;fullTitle&quot;:&quot;Proveedores API Endpoints GET /api/proveedores debe retornar todos los proveedores&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2009,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/proveedores&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 1);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\proveedores.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\proveedores.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;ba58eb81-0d1f-4f84-ab2d-e12895fb5b26&quot;,&quot;parentUUID&quot;:&quot;6eb7764a-8a67-4c8b-8c7c-381cb8486f3b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GET /api/proveedores/:id debe retornar un proveedor por ID&quot;,&quot;fullTitle&quot;:&quot;Proveedores API Endpoints GET /api/proveedores/:id debe retornar un proveedor por ID&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2017,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/proveedores/1&#x27;);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;nombre&#x27;));\nassert.strictEqual(res.body.nombre, &#x27;Proveedor A&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\proveedores.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\proveedores.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;0069e3f3-e4fd-4e4a-a13e-720d4387f7e3&quot;,&quot;parentUUID&quot;:&quot;6eb7764a-8a67-4c8b-8c7c-381cb8486f3b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;POST /api/proveedores debe crear un nuevo proveedor&quot;,&quot;fullTitle&quot;:&quot;Proveedores API Endpoints POST /api/proveedores debe crear un nuevo proveedor&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2000,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newProveedor = {\n  nombre: &#x27;Proveedor B&#x27;,\n  direccion: &#x27;Calle 2, Ciudad&#x27;,\n  rfc: &#x27;RFC54321B&#x27;,\n  telefono: &#x27;6666666666&#x27;\n};\nconst res = await request(app).post(&#x27;/api/proveedores&#x27;).send(newProveedor);\nassert.strictEqual(res.status, 201);\nassert.ok(res.body.hasOwnProperty(&#x27;nombre&#x27;));\nassert.strictEqual(res.body.nombre, &#x27;Proveedor B&#x27;);\n// Verificar que se agregó correctamente\nconst allProveedores = await request(app).get(&#x27;/api/proveedores&#x27;);\nassert.strictEqual(allProveedores.body.length, 2);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\proveedores.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\proveedores.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;2e176a39-abcc-4d2b-a9b8-dea449804b94&quot;,&quot;parentUUID&quot;:&quot;6eb7764a-8a67-4c8b-8c7c-381cb8486f3b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;PUT /api/proveedores/:id debe actualizar un proveedor&quot;,&quot;fullTitle&quot;:&quot;Proveedores API Endpoints PUT /api/proveedores/:id debe actualizar un proveedor&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2016,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedProveedor = {\n  nombre: &#x27;Proveedor Actualizado&#x27;,\n  direccion: &#x27;Calle 3, Ciudad&#x27;,\n  rfc: &#x27;RFC56789C&#x27;,\n  telefono: &#x27;7777777777&#x27;\n};\nconst res = await request(app).put(&#x27;/api/proveedores/1&#x27;).send(updatedProveedor);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;nombre&#x27;));\nassert.strictEqual(res.body.nombre, &#x27;Proveedor Actualizado&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\proveedores.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\proveedores.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;0b9ee781-f1c1-4afc-8d59-2d41126619f2&quot;,&quot;parentUUID&quot;:&quot;6eb7764a-8a67-4c8b-8c7c-381cb8486f3b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;DELETE /api/proveedores/:id debe eliminar un proveedor&quot;,&quot;fullTitle&quot;:&quot;Proveedores API Endpoints DELETE /api/proveedores/:id debe eliminar un proveedor&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2015,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/proveedores/1&#x27;);\nassert.strictEqual(res.status, 204);\n// Verificar que el proveedor fue eliminado\nconst allProveedores = await request(app).get(&#x27;/api/proveedores&#x27;);\nassert.strictEqual(allProveedores.body.length, 1);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\proveedores.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\proveedores.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;9296fad6-94b1-441e-9389-eef1109f264b&quot;,&quot;parentUUID&quot;:&quot;6eb7764a-8a67-4c8b-8c7c-381cb8486f3b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GET /api/proveedores/:id debe retornar 404 para un proveedor inexistente&quot;,&quot;fullTitle&quot;:&quot;Proveedores API Endpoints GET /api/proveedores/:id debe retornar 404 para un proveedor inexistente&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2004,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/proveedores/9999&#x27;);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\proveedores.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\proveedores.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;aa04e82f-f6d5-440e-b953-5376686c5847&quot;,&quot;parentUUID&quot;:&quot;6eb7764a-8a67-4c8b-8c7c-381cb8486f3b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;ba58eb81-0d1f-4f84-ab2d-e12895fb5b26&quot;,&quot;0069e3f3-e4fd-4e4a-a13e-720d4387f7e3&quot;,&quot;2e176a39-abcc-4d2b-a9b8-dea449804b94&quot;,&quot;0b9ee781-f1c1-4afc-8d59-2d41126619f2&quot;,&quot;9296fad6-94b1-441e-9389-eef1109f264b&quot;,&quot;aa04e82f-f6d5-440e-b953-5376686c5847&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12061,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d6fd6782-23af-4090-aa28-104ed4f6a67a&quot;,&quot;title&quot;:&quot;Roles API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\roles.test.js&quot;,&quot;file&quot;:&quot;\\test\\roles.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Roles API Endpoints\&quot;&quot;,&quot;fullTitle&quot;:&quot;Roles API Endpoints \&quot;before all\&quot; hook in \&quot;Roles API Endpoints\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar la tabla y agregar datos iniciales\nawait db.query(&#x27;TRUNCATE TABLE Roles RESTART IDENTITY CASCADE&#x27;);\nawait db.query(\&quot;INSERT INTO Roles (tipo) VALUES (&#x27;Admin&#x27;)\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10d8c74a-866c-44db-9a0a-853cf0a47cee&quot;,&quot;parentUUID&quot;:&quot;d6fd6782-23af-4090-aa28-104ed4f6a67a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Roles API Endpoints\&quot;&quot;,&quot;fullTitle&quot;:&quot;Roles API Endpoints \&quot;after all\&quot; hook in \&quot;Roles API Endpoints\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:33,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar la tabla después de las pruebas\nawait db.query(&#x27;TRUNCATE TABLE Roles RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa3eb330-d8c5-404c-9a3f-06345834088d&quot;,&quot;parentUUID&quot;:&quot;d6fd6782-23af-4090-aa28-104ed4f6a67a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/roles debe retornar todos los roles&quot;,&quot;fullTitle&quot;:&quot;Roles API Endpoints GET /api/roles debe retornar todos los roles&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2004,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/roles&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 1);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\roles.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\roles.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;09bc175a-475e-416a-9a50-b4e733915cc3&quot;,&quot;parentUUID&quot;:&quot;d6fd6782-23af-4090-aa28-104ed4f6a67a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GET /api/roles/:id debe retornar un rol por ID&quot;,&quot;fullTitle&quot;:&quot;Roles API Endpoints GET /api/roles/:id debe retornar un rol por ID&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2005,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/roles/1&#x27;);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;tipo&#x27;));\nassert.strictEqual(res.body.tipo, &#x27;Admin&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\roles.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\roles.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;1b7850a7-1d51-4bed-b741-a765718e671c&quot;,&quot;parentUUID&quot;:&quot;d6fd6782-23af-4090-aa28-104ed4f6a67a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;POST /api/roles debe crear un nuevo rol&quot;,&quot;fullTitle&quot;:&quot;Roles API Endpoints POST /api/roles debe crear un nuevo rol&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2006,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newRol = { tipo: &#x27;User&#x27; };\nconst res = await request(app).post(&#x27;/api/roles&#x27;).send(newRol);\nassert.strictEqual(res.status, 201);\nassert.ok(res.body.hasOwnProperty(&#x27;tipo&#x27;));\nassert.strictEqual(res.body.tipo, &#x27;User&#x27;);\n// Verificar que se agregó correctamente\nconst allRoles = await request(app).get(&#x27;/api/roles&#x27;);\nassert.strictEqual(allRoles.body.length, 2);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\roles.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\roles.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;4061e9a4-468c-4092-af8d-a27c177ac3d5&quot;,&quot;parentUUID&quot;:&quot;d6fd6782-23af-4090-aa28-104ed4f6a67a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;PUT /api/roles/:id debe actualizar un rol&quot;,&quot;fullTitle&quot;:&quot;Roles API Endpoints PUT /api/roles/:id debe actualizar un rol&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2009,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedRol = { tipo: &#x27;SuperAdmin&#x27; };\nconst res = await request(app).put(&#x27;/api/roles/1&#x27;).send(updatedRol);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;tipo&#x27;));\nassert.strictEqual(res.body.tipo, &#x27;SuperAdmin&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\roles.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\roles.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;0cc3a307-b24f-43fe-b2a3-abf46998fe10&quot;,&quot;parentUUID&quot;:&quot;d6fd6782-23af-4090-aa28-104ed4f6a67a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;DELETE /api/roles/:id debe eliminar un rol&quot;,&quot;fullTitle&quot;:&quot;Roles API Endpoints DELETE /api/roles/:id debe eliminar un rol&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2011,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/roles/1&#x27;);\nassert.strictEqual(res.status, 204);\n// Verificar que el rol fue eliminado\nconst allRoles = await request(app).get(&#x27;/api/roles&#x27;);\nassert.strictEqual(allRoles.body.length, 1);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\roles.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\roles.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;3a289496-1126-4cf4-a751-6e560e5de5d8&quot;,&quot;parentUUID&quot;:&quot;d6fd6782-23af-4090-aa28-104ed4f6a67a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GET /api/roles/:id debe retornar 404 para un rol inexistente&quot;,&quot;fullTitle&quot;:&quot;Roles API Endpoints GET /api/roles/:id debe retornar 404 para un rol inexistente&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2007,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/roles/9999&#x27;);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\roles.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\roles.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;2105b456-3f87-46e2-89fc-cf0bab15aa26&quot;,&quot;parentUUID&quot;:&quot;d6fd6782-23af-4090-aa28-104ed4f6a67a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;09bc175a-475e-416a-9a50-b4e733915cc3&quot;,&quot;1b7850a7-1d51-4bed-b741-a765718e671c&quot;,&quot;4061e9a4-468c-4092-af8d-a27c177ac3d5&quot;,&quot;0cc3a307-b24f-43fe-b2a3-abf46998fe10&quot;,&quot;3a289496-1126-4cf4-a751-6e560e5de5d8&quot;,&quot;2105b456-3f87-46e2-89fc-cf0bab15aa26&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12042,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;657b180b-b6da-4bdf-9492-13538cc927d0&quot;,&quot;title&quot;:&quot;TipoPago API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\tipoPago.test.js&quot;,&quot;file&quot;:&quot;\\test\\tipoPago.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;TipoPago API Endpoints\&quot;&quot;,&quot;fullTitle&quot;:&quot;TipoPago API Endpoints \&quot;before all\&quot; hook in \&quot;TipoPago API Endpoints\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar la tabla y agregar datos iniciales\nawait db.query(&#x27;TRUNCATE TABLE TipoPago RESTART IDENTITY CASCADE&#x27;);\nawait db.query(\&quot;INSERT INTO TipoPago (descripcion, activo) VALUES (&#x27;Tarjeta de Crédito&#x27;, true)\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5cebb65-f9b4-4aae-b6ef-c08925c4d5f0&quot;,&quot;parentUUID&quot;:&quot;657b180b-b6da-4bdf-9492-13538cc927d0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;TipoPago API Endpoints\&quot;&quot;,&quot;fullTitle&quot;:&quot;TipoPago API Endpoints \&quot;after all\&quot; hook in \&quot;TipoPago API Endpoints\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar la tabla después de las pruebas\nawait db.query(&#x27;TRUNCATE TABLE TipoPago RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6171aae-0e64-41cb-b469-8a0b3c1fd908&quot;,&quot;parentUUID&quot;:&quot;657b180b-b6da-4bdf-9492-13538cc927d0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/tipoPago debe retornar todos los tipos de pago&quot;,&quot;fullTitle&quot;:&quot;TipoPago API Endpoints GET /api/tipoPago debe retornar todos los tipos de pago&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2003,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/tipoPago&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 1);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\tipoPago.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\tipoPago.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;3efaa93d-2fe2-44ce-88d4-f7f60a141728&quot;,&quot;parentUUID&quot;:&quot;657b180b-b6da-4bdf-9492-13538cc927d0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GET /api/tipoPago/:id debe retornar un tipo de pago por ID&quot;,&quot;fullTitle&quot;:&quot;TipoPago API Endpoints GET /api/tipoPago/:id debe retornar un tipo de pago por ID&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2001,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/tipoPago/1&#x27;);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;descripcion&#x27;));\nassert.strictEqual(res.body.descripcion, &#x27;Tarjeta de Crédito&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\tipoPago.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\tipoPago.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;349638c8-0993-44e7-8212-723dae40b6b2&quot;,&quot;parentUUID&quot;:&quot;657b180b-b6da-4bdf-9492-13538cc927d0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;POST /api/tipoPago debe crear un nuevo tipo de pago&quot;,&quot;fullTitle&quot;:&quot;TipoPago API Endpoints POST /api/tipoPago debe crear un nuevo tipo de pago&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2018,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newTipoPago = { descripcion: &#x27;PayPal&#x27;, activo: true };\nconst res = await request(app).post(&#x27;/api/tipoPago&#x27;).send(newTipoPago);\nassert.strictEqual(res.status, 201);\nassert.ok(res.body.hasOwnProperty(&#x27;descripcion&#x27;));\nassert.strictEqual(res.body.descripcion, &#x27;PayPal&#x27;);\n// Verificar que se agregó correctamente\nconst allTiposPago = await request(app).get(&#x27;/api/tipoPago&#x27;);\nassert.strictEqual(allTiposPago.body.length, 2);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\tipoPago.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\tipoPago.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;4ff31602-dce2-4c49-8c4a-e6545ea1ffe7&quot;,&quot;parentUUID&quot;:&quot;657b180b-b6da-4bdf-9492-13538cc927d0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;PUT /api/tipoPago/:id debe actualizar un tipo de pago&quot;,&quot;fullTitle&quot;:&quot;TipoPago API Endpoints PUT /api/tipoPago/:id debe actualizar un tipo de pago&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2006,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedTipoPago = { descripcion: &#x27;Pago en Efectivo&#x27;, activo: false };\nconst res = await request(app).put(&#x27;/api/tipoPago/1&#x27;).send(updatedTipoPago);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;descripcion&#x27;));\nassert.strictEqual(res.body.descripcion, &#x27;Pago en Efectivo&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\tipoPago.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\tipoPago.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;86b1ddb1-3c4c-4dba-9c0d-12899abb3683&quot;,&quot;parentUUID&quot;:&quot;657b180b-b6da-4bdf-9492-13538cc927d0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;DELETE /api/tipoPago/:id debe eliminar un tipo de pago&quot;,&quot;fullTitle&quot;:&quot;TipoPago API Endpoints DELETE /api/tipoPago/:id debe eliminar un tipo de pago&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2015,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/tipoPago/1&#x27;);\nassert.strictEqual(res.status, 204);\n// Verificar que el tipo de pago fue eliminado\nconst allTiposPago = await request(app).get(&#x27;/api/tipoPago&#x27;);\nassert.strictEqual(allTiposPago.body.length, 1);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\tipoPago.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\tipoPago.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;9b18e705-3dfc-4ee2-928b-1ed8d1ea995b&quot;,&quot;parentUUID&quot;:&quot;657b180b-b6da-4bdf-9492-13538cc927d0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GET /api/tipoPago/:id debe retornar 404 para un tipo de pago inexistente&quot;,&quot;fullTitle&quot;:&quot;TipoPago API Endpoints GET /api/tipoPago/:id debe retornar 404 para un tipo de pago inexistente&quot;,&quot;timedOut&quot;:true,&quot;duration&quot;:2014,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/tipoPago/9999&#x27;);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\tipoPago.test.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\tipoPago.test.js)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)&quot;},&quot;uuid&quot;:&quot;3fe41ca1-429d-4b83-8a37-503afa44ecb2&quot;,&quot;parentUUID&quot;:&quot;657b180b-b6da-4bdf-9492-13538cc927d0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;3efaa93d-2fe2-44ce-88d4-f7f60a141728&quot;,&quot;349638c8-0993-44e7-8212-723dae40b6b2&quot;,&quot;4ff31602-dce2-4c49-8c4a-e6545ea1ffe7&quot;,&quot;86b1ddb1-3c4c-4dba-9c0d-12899abb3683&quot;,&quot;9b18e705-3dfc-4ee2-928b-1ed8d1ea995b&quot;,&quot;3fe41ca1-429d-4b83-8a37-503afa44ecb2&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12057,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f8906c73-7dd1-4e8d-a61a-4ff4f5f5dc70&quot;,&quot;title&quot;:&quot;Usuarios API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\usuarios.test.js&quot;,&quot;file&quot;:&quot;\\test\\usuarios.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook for \&quot;GET /api/usuarios debe retornar todos los usuarios\&quot;&quot;,&quot;fullTitle&quot;:&quot;Usuarios API Endpoints \&quot;before all\&quot; hook for \&quot;GET /api/usuarios debe retornar todos los usuarios\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:37,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar la tabla y agregar datos iniciales\nawait db.query(&#x27;TRUNCATE TABLE Usuarios RESTART IDENTITY CASCADE&#x27;);\nawait db.query(\&quot;INSERT INTO Usuarios (nombre, correo, password, idRol) VALUES (&#x27;Juan Pérez&#x27;, &#x27;juan@gmail.com&#x27;, &#x27;12345&#x27;, 1)\&quot;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: inserción o actualización en la tabla «usuarios» viola la llave foránea «usuarios_idrol_fkey»&quot;,&quot;estack&quot;:&quot;error: inserción o actualización en la tabla «usuarios» viola la llave foránea «usuarios_idrol_fkey»\n    at C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.&lt;anonymous&gt; (test\\usuarios.test.js:13:5)&quot;},&quot;uuid&quot;:&quot;23d47181-dad7-45fc-8356-608b293c43c0&quot;,&quot;parentUUID&quot;:&quot;f8906c73-7dd1-4e8d-a61a-4ff4f5f5dc70&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Usuarios API Endpoints\&quot;&quot;,&quot;fullTitle&quot;:&quot;Usuarios API Endpoints \&quot;after all\&quot; hook in \&quot;Usuarios API Endpoints\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:65,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar la tabla después de las pruebas\nawait db.query(&#x27;TRUNCATE TABLE Usuarios RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85d14f06-0ab4-4034-a563-ef286fecccd9&quot;,&quot;parentUUID&quot;:&quot;f8906c73-7dd1-4e8d-a61a-4ff4f5f5dc70&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/usuarios debe retornar todos los usuarios&quot;,&quot;fullTitle&quot;:&quot;Usuarios API Endpoints GET /api/usuarios debe retornar todos los usuarios&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/usuarios&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b1876a3-6abf-413e-ad81-7f19d27e5c8a&quot;,&quot;parentUUID&quot;:&quot;f8906c73-7dd1-4e8d-a61a-4ff4f5f5dc70&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/usuarios/:id debe retornar un usuario por ID&quot;,&quot;fullTitle&quot;:&quot;Usuarios API Endpoints GET /api/usuarios/:id debe retornar un usuario por ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/usuarios/1&#x27;);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;nombre&#x27;));\nassert.strictEqual(res.body.nombre, &#x27;Juan Pérez&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd78bc59-ef61-4c01-8369-41f188e27b57&quot;,&quot;parentUUID&quot;:&quot;f8906c73-7dd1-4e8d-a61a-4ff4f5f5dc70&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/usuarios debe crear un nuevo usuario&quot;,&quot;fullTitle&quot;:&quot;Usuarios API Endpoints POST /api/usuarios debe crear un nuevo usuario&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newUsuario = {\n  nombre: &#x27;Ana García&#x27;,\n  correo: &#x27;ana@gmail.com&#x27;,\n  password: &#x27;54321&#x27;,\n  idRol: 2\n};\nconst res = await request(app).post(&#x27;/api/usuarios&#x27;).send(newUsuario);\nassert.strictEqual(res.status, 201);\nassert.ok(res.body.hasOwnProperty(&#x27;nombre&#x27;));\nassert.strictEqual(res.body.nombre, &#x27;Ana García&#x27;);\n// Verificar que se agregó correctamente\nconst allUsuarios = await request(app).get(&#x27;/api/usuarios&#x27;);\nassert.strictEqual(allUsuarios.body.length, 2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e60c3390-d516-4c51-a9a7-13bb565bf378&quot;,&quot;parentUUID&quot;:&quot;f8906c73-7dd1-4e8d-a61a-4ff4f5f5dc70&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;PUT /api/usuarios/:id debe actualizar un usuario&quot;,&quot;fullTitle&quot;:&quot;Usuarios API Endpoints PUT /api/usuarios/:id debe actualizar un usuario&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedUsuario = {\n  nombre: &#x27;Juan Pérez Actualizado&#x27;,\n  correo: &#x27;juan.actualizado@gmail.com&#x27;,\n  password: &#x27;67890&#x27;,\n  idRol: 1\n};\nconst res = await request(app).put(&#x27;/api/usuarios/1&#x27;).send(updatedUsuario);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;nombre&#x27;));\nassert.strictEqual(res.body.nombre, &#x27;Juan Pérez Actualizado&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;207526f8-a776-427b-a806-9c5cb9060df4&quot;,&quot;parentUUID&quot;:&quot;f8906c73-7dd1-4e8d-a61a-4ff4f5f5dc70&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;DELETE /api/usuarios/:id debe eliminar un usuario&quot;,&quot;fullTitle&quot;:&quot;Usuarios API Endpoints DELETE /api/usuarios/:id debe eliminar un usuario&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/usuarios/1&#x27;);\nassert.strictEqual(res.status, 204);\n// Verificar que el usuario fue eliminado\nconst allUsuarios = await request(app).get(&#x27;/api/usuarios&#x27;);\nassert.strictEqual(allUsuarios.body.length, 1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d32a9b7c-a488-48f6-a128-07724b81fa0b&quot;,&quot;parentUUID&quot;:&quot;f8906c73-7dd1-4e8d-a61a-4ff4f5f5dc70&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/usuarios/:id debe retornar 404 para un usuario inexistente&quot;,&quot;fullTitle&quot;:&quot;Usuarios API Endpoints GET /api/usuarios/:id debe retornar 404 para un usuario inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/usuarios/9999&#x27;);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ae3b0aa-63b2-4444-a5f6-4fce491cfe7c&quot;,&quot;parentUUID&quot;:&quot;f8906c73-7dd1-4e8d-a61a-4ff4f5f5dc70&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;9b1876a3-6abf-413e-ad81-7f19d27e5c8a&quot;,&quot;fd78bc59-ef61-4c01-8369-41f188e27b57&quot;,&quot;e60c3390-d516-4c51-a9a7-13bb565bf378&quot;,&quot;207526f8-a776-427b-a806-9c5cb9060df4&quot;,&quot;d32a9b7c-a488-48f6-a128-07724b81fa0b&quot;,&quot;7ae3b0aa-63b2-4444-a5f6-4fce491cfe7c&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f7a35f0a-5aaa-43a8-9856-6a38e0b05839&quot;,&quot;title&quot;:&quot;Ventas API Endpoints&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\test\\ventas.test.js&quot;,&quot;file&quot;:&quot;\\test\\ventas.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook for \&quot;GET /api/ventas debe retornar todas las ventas\&quot;&quot;,&quot;fullTitle&quot;:&quot;Ventas API Endpoints \&quot;before all\&quot; hook for \&quot;GET /api/ventas debe retornar todas las ventas\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar la tabla y agregar datos iniciales\nawait db.query(&#x27;TRUNCATE TABLE Ventas RESTART IDENTITY CASCADE&#x27;);\nawait db.query(\&quot;INSERT INTO Ventas (monto, idempleado, fechaVenta) VALUES (500, 1, NOW())\&quot;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;error: inserción o actualización en la tabla «ventas» viola la llave foránea «ventas_idempleado_fkey»&quot;,&quot;estack&quot;:&quot;error: inserción o actualización en la tabla «ventas» viola la llave foránea «ventas_idempleado_fkey»\n    at C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.&lt;anonymous&gt; (test\\ventas.test.js:13:5)&quot;},&quot;uuid&quot;:&quot;73c3af8f-fca0-457b-b586-6bdd00a1f001&quot;,&quot;parentUUID&quot;:&quot;f7a35f0a-5aaa-43a8-9856-6a38e0b05839&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Ventas API Endpoints\&quot;&quot;,&quot;fullTitle&quot;:&quot;Ventas API Endpoints \&quot;after all\&quot; hook in \&quot;Ventas API Endpoints\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:144,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Limpiar la tabla después de las pruebas\nawait db.query(&#x27;TRUNCATE TABLE Ventas RESTART IDENTITY CASCADE&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e88922c3-3bce-4bd4-ba2c-399c88ea0fbc&quot;,&quot;parentUUID&quot;:&quot;f7a35f0a-5aaa-43a8-9856-6a38e0b05839&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GET /api/ventas debe retornar todas las ventas&quot;,&quot;fullTitle&quot;:&quot;Ventas API Endpoints GET /api/ventas debe retornar todas las ventas&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/ventas&#x27;);\nassert.strictEqual(res.status, 200);\nassert.strictEqual(Array.isArray(res.body), true);\nassert.strictEqual(res.body.length, 1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;688ed98f-217e-4352-bd0c-c931cc724333&quot;,&quot;parentUUID&quot;:&quot;f7a35f0a-5aaa-43a8-9856-6a38e0b05839&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/ventas/:folio debe retornar una venta por folio&quot;,&quot;fullTitle&quot;:&quot;Ventas API Endpoints GET /api/ventas/:folio debe retornar una venta por folio&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/ventas/1&#x27;);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;monto&#x27;));\nassert.strictEqual(res.body.monto, 500);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5625f4d1-07e4-4b5a-b1d5-e61865249c60&quot;,&quot;parentUUID&quot;:&quot;f7a35f0a-5aaa-43a8-9856-6a38e0b05839&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;POST /api/ventas debe crear una nueva venta&quot;,&quot;fullTitle&quot;:&quot;Ventas API Endpoints POST /api/ventas debe crear una nueva venta&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newVenta = { monto: 750, idempleado: 2 };\nconst res = await request(app).post(&#x27;/api/ventas&#x27;).send(newVenta);\nassert.strictEqual(res.status, 201);\nassert.ok(res.body.hasOwnProperty(&#x27;monto&#x27;));\nassert.strictEqual(res.body.monto, 750);\n// Verificar que se agregó correctamente\nconst allVentas = await request(app).get(&#x27;/api/ventas&#x27;);\nassert.strictEqual(allVentas.body.length, 2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ae57f884-c42d-44b7-a86e-7b4b8b1ab177&quot;,&quot;parentUUID&quot;:&quot;f7a35f0a-5aaa-43a8-9856-6a38e0b05839&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;PUT /api/ventas/:folio debe actualizar una venta&quot;,&quot;fullTitle&quot;:&quot;Ventas API Endpoints PUT /api/ventas/:folio debe actualizar una venta&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const updatedVenta = { monto: 1000, idempleado: 1 };\nconst res = await request(app).put(&#x27;/api/ventas/1&#x27;).send(updatedVenta);\nassert.strictEqual(res.status, 200);\nassert.ok(res.body.hasOwnProperty(&#x27;monto&#x27;));\nassert.strictEqual(res.body.monto, 1000);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c0847aba-24c7-457f-900f-01adb4ee9e1d&quot;,&quot;parentUUID&quot;:&quot;f7a35f0a-5aaa-43a8-9856-6a38e0b05839&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;DELETE /api/ventas/:folio debe eliminar una venta&quot;,&quot;fullTitle&quot;:&quot;Ventas API Endpoints DELETE /api/ventas/:folio debe eliminar una venta&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).delete(&#x27;/api/ventas/1&#x27;);\nassert.strictEqual(res.status, 204);\n// Verificar que la venta fue eliminada\nconst allVentas = await request(app).get(&#x27;/api/ventas&#x27;);\nassert.strictEqual(allVentas.body.length, 1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99f3fff8-139a-48d7-898e-39d5161cda4b&quot;,&quot;parentUUID&quot;:&quot;f7a35f0a-5aaa-43a8-9856-6a38e0b05839&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;GET /api/ventas/:folio debe retornar 404 para una venta inexistente&quot;,&quot;fullTitle&quot;:&quot;Ventas API Endpoints GET /api/ventas/:folio debe retornar 404 para una venta inexistente&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await request(app).get(&#x27;/api/ventas/9999&#x27;);\nassert.strictEqual(res.status, 404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04905942-083e-4513-b560-968d5ff4626f&quot;,&quot;parentUUID&quot;:&quot;f7a35f0a-5aaa-43a8-9856-6a38e0b05839&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;688ed98f-217e-4352-bd0c-c931cc724333&quot;,&quot;5625f4d1-07e4-4b5a-b1d5-e61865249c60&quot;,&quot;ae57f884-c42d-44b7-a86e-7b4b8b1ab177&quot;,&quot;c0847aba-24c7-457f-900f-01adb4ee9e1d&quot;,&quot;99f3fff8-139a-48d7-898e-39d5161cda4b&quot;,&quot;04905942-083e-4513-b560-968d5ff4626f&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.8.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;TestMarias&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\Eliezer Cerecedo\\Documents\\Test\\TestMarias\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>